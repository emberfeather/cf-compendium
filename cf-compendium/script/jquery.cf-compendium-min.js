(function(d){d.cfc={}})(jQuery);(function(d){d.wait=function(i){var b=d.Deferred();setTimeout(function(){b.resolve()},i);return b}})(jQuery);
(function(d){function i(){var a;a=d(this);if(!a.data("timeago")){a.data("timeago",{datetime:c.datetime(a)});var e=d.trim(a.text());e.length>0&&a.attr("title",e)}a=a.data("timeago");isNaN(a.datetime)||d(this).text(b(a.datetime));return this}function b(a){return c.inWords((new Date).getTime()-a.getTime())}d.timeago=function(a){return a instanceof Date?b(a):typeof a==="string"?b(d.timeago.parse(a)):b(d.timeago.datetime(a))};var c=d.timeago;d.extend(d.timeago,{settings:{refreshMillis:6E4,allowFuture:false,
strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[]}},inWords:function(a){function c(e,g){return(d.isFunction(e)?e(g,a):e).replace(/%d/i,b.numbers&&b.numbers[g]||g)}var b=this.settings.strings,h=b.prefixAgo,k=b.suffixAgo;if(this.settings.allowFuture){if(a<
0)h=b.prefixFromNow,k=b.suffixFromNow;a=Math.abs(a)}var g=a/1E3,j=g/60,i=j/60,m=i/24,o=m/365,g=g<45&&c(b.seconds,Math.round(g))||g<90&&c(b.minute,1)||j<45&&c(b.minutes,Math.round(j))||j<90&&c(b.hour,1)||i<24&&c(b.hours,Math.round(i))||i<48&&c(b.day,1)||m<30&&c(b.days,Math.floor(m))||m<60&&c(b.month,1)||m<365&&c(b.months,Math.floor(m/30))||o<2&&c(b.year,1)||c(b.years,Math.floor(o));return d.trim([h,g,k].join(" "))},parse:function(a){a=d.trim(a);a=a.replace(/\.\d\d\d+/,"");a=a.replace(/-/,"/").replace(/-/,
"/");a=a.replace(/T/," ").replace(/Z/," UTC");a=a.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");return new Date(a)},datetime:function(a){a=d(a).get(0).tagName.toLowerCase()==="time"?d(a).attr("datetime"):d(a).attr("title");return c.parse(a)}});d.fn.timeago=function(){var a=this;a.each(i);var b=c.settings;b.refreshMillis>0&&setInterval(function(){a.each(i)},b.refreshMillis);return a};document.createElement("abbr");document.createElement("time")})(jQuery);
jQuery.cookie=function(d,i,b){if(arguments.length>1&&(i===null||typeof i!=="object")){b=jQuery.extend({},b);if(i===null)b.expires=-1;if(typeof b.expires==="number"){var c=b.expires,a=b.expires=new Date;a.setDate(a.getDate()+c)}return document.cookie=[encodeURIComponent(d),"=",b.raw?String(i):encodeURIComponent(String(i)),b.expires?"; expires="+b.expires.toUTCString():"",b.path?"; path="+b.path:"",b.domain?"; domain="+b.domain:"",b.secure?"; secure":""].join("")}b=i||{};a=b.raw?function(a){return a}:
decodeURIComponent;return(c=RegExp("(?:^|; )"+encodeURIComponent(d)+"=([^;]*)").exec(document.cookie))?a(c[1]):null};
(function(d){function i(){this.regional=[];this.regional[""]={currentText:"Now",closeText:"Done",ampm:false,timeFormat:"hh:mm tt",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone"};this._defaults={showButtonPanel:true,timeOnly:false,showHour:true,showMinute:true,showSecond:false,showMillisec:false,showTimezone:false,showTime:true,stepHour:0.05,stepMinute:0.05,stepSecond:0.05,stepMillisec:0.5,
hour:0,minute:0,second:0,millisec:0,timezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:true,separator:" ",altFieldTimeOnly:true,showTimepicker:true,timezoneIso8609:false,timezoneList:null};d.extend(this._defaults,this.regional[""])}d.extend(d.ui,{timepicker:{version:"0.9.7"}});d.extend(i.prototype,{$input:null,$altInput:null,
$timeObj:null,inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,setDefaults:function(b){var c=this._defaults,b=b||{};d.extend(c,
b);for(var a in b)if(b[a]===null||b[a]===void 0)c[a]=b[a];return this},_newInst:function(b,c){var a=new i,e={},f;for(f in this._defaults){var h=b.attr("time:"+f);if(h)try{e[f]=eval(h)}catch(k){e[f]=h}}a._defaults=d.extend({},this._defaults,e,c,{beforeShow:function(b,e){d.isFunction(c.beforeShow)&&c.beforeShow(b,e,a)},onChangeMonthYear:function(e,f,k){a._updateDateTime(k);d.isFunction(c.onChangeMonthYear)&&c.onChangeMonthYear.call(b[0],e,f,k,a)},onClose:function(e,f){a.timeDefined===true&&b.val()!=
""&&a._updateDateTime(f);d.isFunction(c.onClose)&&c.onClose.call(b[0],e,f,a)},timepicker:a});if(a._defaults.timezoneList===null){e=[];for(f=-11;f<=12;f++)e.push((f>=0?"+":"-")+("0"+Math.abs(f).toString()).slice(-2)+"00");a._defaults.timezoneIso8609&&(e=d.map(e,function(a){return a=="+0000"?"Z":a.substring(0,3)+":"+a.substring(3)}));a._defaults.timezoneList=e}a.hour=a._defaults.hour;a.minute=a._defaults.minute;a.second=a._defaults.second;a.millisec=a._defaults.millisec;a.ampm="";a.$input=b;if(c.altField)a.$altInput=
d(c.altField).css({cursor:"pointer"}).focus(function(){b.trigger("focus")});if(a._defaults.minDate==0||a._defaults.minDateTime==0)a._defaults.minDate=new Date;if(a._defaults.maxDate==0||a._defaults.maxDateTime==0)a._defaults.maxDate=new Date;if(a._defaults.minDate!==void 0&&a._defaults.minDate instanceof Date)a._defaults.minDateTime=new Date(a._defaults.minDate.getTime());if(a._defaults.minDateTime!==void 0&&a._defaults.minDateTime instanceof Date)a._defaults.minDate=new Date(a._defaults.minDateTime.getTime());
if(a._defaults.maxDate!==void 0&&a._defaults.maxDate instanceof Date)a._defaults.maxDateTime=new Date(a._defaults.maxDate.getTime());if(a._defaults.maxDateTime!==void 0&&a._defaults.maxDateTime instanceof Date)a._defaults.maxDate=new Date(a._defaults.maxDateTime.getTime());return a},_addTimePicker:function(b){this.timeDefined=this._parseTime(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val());this._limitMinMaxDateTime(b,false);this._injectTimePicker()},
_parseTime:function(b,c){var a=this._defaults.timeFormat.toString().replace(/h{1,2}/ig,"(\\d?\\d)").replace(/m{1,2}/ig,"(\\d?\\d)").replace(/s{1,2}/ig,"(\\d?\\d)").replace(/l{1}/ig,"(\\d?\\d?\\d)").replace(/t{1,2}/ig,"(am|pm|a|p)?").replace(/z{1}/ig,"(z|[-+]\\d\\d:?\\d\\d)?").replace(/\s/g,"\\s?")+this._defaults.timeSuffix+"$",e=this._getFormatPositions();if(!this.inst)this.inst=d.datepicker._getInst(this.$input[0]);if(c||!this._defaults.timeOnly)a=".{"+d.datepicker._get(this.inst,"dateFormat").length+
",}"+this._defaults.separator.replace(RegExp("[.*+?|()\\[\\]{}\\\\]","g"),"\\$&")+a;if(a=b.match(RegExp(a,"i"))){if(e.t!==-1)this.ampm=(a[e.t]===void 0||a[e.t].length===0?"":a[e.t].charAt(0).toUpperCase()=="A"?"AM":"PM").toUpperCase();if(e.h!==-1)this.hour=this.ampm=="AM"&&a[e.h]=="12"?0:this.ampm=="PM"&&a[e.h]!="12"?(parseFloat(a[e.h])+12).toFixed(0):Number(a[e.h]);if(e.m!==-1)this.minute=Number(a[e.m]);if(e.s!==-1)this.second=Number(a[e.s]);if(e.l!==-1)this.millisec=Number(a[e.l]);if(e.z!==-1&&
a[e.z]!==void 0){e=a[e.z].toUpperCase();switch(e.length){case 1:e=this._defaults.timezoneIso8609?"Z":"+0000";break;case 5:this._defaults.timezoneIso8609&&(e=e.substring(1)=="0000"?"Z":e.substring(0,3)+":"+e.substring(3));break;case 6:this._defaults.timezoneIso8609?e.substring(1)=="00:00"&&(e="Z"):e=e=="Z"||e.substring(1)=="00:00"?"+0000":e.replace(/:/,"")}this.timezone=e}return true}return false},_getFormatPositions:function(){var b=this._defaults.timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z)/g),
c={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1};if(b)for(var a=0;a<b.length;a++)c[b[a].toString().charAt(0)]==-1&&(c[b[a].toString().charAt(0)]=a+1);return c},_injectTimePicker:function(){var b=this.inst.dpDiv,c=this._defaults,a=this,e=(c.hourMax-c.hourMax%c.stepHour).toFixed(0),f=(c.minuteMax-c.minuteMax%c.stepMinute).toFixed(0),h=(c.secondMax-c.secondMax%c.stepSecond).toFixed(0),k=(c.millisecMax-c.millisecMax%c.stepMillisec).toFixed(0),g=this.inst.id.toString().replace(/([^A-Za-z0-9_])/g,"");if(b.find("div#ui-timepicker-div-"+
g).length===0&&c.showTimepicker){var j='<div class="ui-timepicker-div" id="ui-timepicker-div-'+g+'"><dl><dt class="ui_tpicker_time_label" id="ui_tpicker_time_label_'+g+'"'+(c.showTime?"":' style="display:none;"')+">"+c.timeText+'</dt><dd class="ui_tpicker_time" id="ui_tpicker_time_'+g+'"'+(c.showTime?"":' style="display:none;"')+'></dd><dt class="ui_tpicker_hour_label" id="ui_tpicker_hour_label_'+g+'"'+(c.showHour?"":' style="display:none;"')+">"+c.hourText+"</dt>",i=0,m=0,o=0,r=0,n;if(c.showHour&&
c.hourGrid>0){j+='<dd class="ui_tpicker_hour"><div id="ui_tpicker_hour_'+g+'"'+(c.showHour?"":' style="display:none;"')+'></div><div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var l=c.hourMin;l<=e;l+=parseInt(c.hourGrid,10)){i++;var p=c.ampm&&l>12?l-12:l;p<10&&(p="0"+p);c.ampm&&(l==0?p="12a":p+=l<12?"a":"p");j+="<td>"+p+"</td>"}j+="</tr></table></div></dd>"}else j+='<dd class="ui_tpicker_hour" id="ui_tpicker_hour_'+g+'"'+(c.showHour?"":' style="display:none;"')+"></dd>";
j+='<dt class="ui_tpicker_minute_label" id="ui_tpicker_minute_label_'+g+'"'+(c.showMinute?"":' style="display:none;"')+">"+c.minuteText+"</dt>";if(c.showMinute&&c.minuteGrid>0){j+='<dd class="ui_tpicker_minute ui_tpicker_minute_'+c.minuteGrid+'"><div id="ui_tpicker_minute_'+g+'"'+(c.showMinute?"":' style="display:none;"')+'></div><div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(l=c.minuteMin;l<=f;l+=parseInt(c.minuteGrid,10))m++,j+="<td>"+(l<10?"0":"")+l+"</td>";j+="</tr></table></div></dd>"}else j+=
'<dd class="ui_tpicker_minute" id="ui_tpicker_minute_'+g+'"'+(c.showMinute?"":' style="display:none;"')+"></dd>";j+='<dt class="ui_tpicker_second_label" id="ui_tpicker_second_label_'+g+'"'+(c.showSecond?"":' style="display:none;"')+">"+c.secondText+"</dt>";if(c.showSecond&&c.secondGrid>0){j+='<dd class="ui_tpicker_second ui_tpicker_second_'+c.secondGrid+'"><div id="ui_tpicker_second_'+g+'"'+(c.showSecond?"":' style="display:none;"')+'></div><div style="padding-left: 1px"><table><tr>';for(var q=c.secondMin;q<=
h;q+=parseInt(c.secondGrid,10))o++,j+="<td>"+(q<10?"0":"")+q+"</td>";j+="</tr></table></div></dd>"}else j+='<dd class="ui_tpicker_second" id="ui_tpicker_second_'+g+'"'+(c.showSecond?"":' style="display:none;"')+"></dd>";j+='<dt class="ui_tpicker_millisec_label" id="ui_tpicker_millisec_label_'+g+'"'+(c.showMillisec?"":' style="display:none;"')+">"+c.millisecText+"</dt>";if(c.showMillisec&&c.millisecGrid>0){j+='<dd class="ui_tpicker_millisec ui_tpicker_millisec_'+c.millisecGrid+'"><div id="ui_tpicker_millisec_'+
g+'"'+(c.showMillisec?"":' style="display:none;"')+'></div><div style="padding-left: 1px"><table><tr>';for(l=c.millisecMin;l<=k;l+=parseInt(c.millisecGrid,10))r++,j+="<td>"+(l<10?"0":"")+q+"</td>";j+="</tr></table></div></dd>"}else j+='<dd class="ui_tpicker_millisec" id="ui_tpicker_millisec_'+g+'"'+(c.showMillisec?"":' style="display:none;"')+"></dd>";j+='<dt class="ui_tpicker_timezone_label" id="ui_tpicker_timezone_label_'+g+'"'+(c.showTimezone?"":' style="display:none;"')+">"+c.timezoneText+"</dt>";
j+='<dd class="ui_tpicker_timezone" id="ui_tpicker_timezone_'+g+'"'+(c.showTimezone?"":' style="display:none;"')+"></dd>";j+="</dl></div>";$tp=d(j);c.timeOnly===true&&($tp.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+c.timeOnlyTitle+"</div></div>"),b.find(".ui-datepicker-header, .ui-datepicker-calendar").hide());this.hour_slider=$tp.find("#ui_tpicker_hour_"+g).slider({orientation:"horizontal",value:this.hour,min:c.hourMin,max:e,step:c.stepHour,
slide:function(c,b){a.hour_slider.slider("option","value",b.value);a._onTimeChange()}});this.minute_slider=$tp.find("#ui_tpicker_minute_"+g).slider({orientation:"horizontal",value:this.minute,min:c.minuteMin,max:f,step:c.stepMinute,slide:function(c,b){a.minute_slider.slider("option","value",b.value);a._onTimeChange()}});this.second_slider=$tp.find("#ui_tpicker_second_"+g).slider({orientation:"horizontal",value:this.second,min:c.secondMin,max:h,step:c.stepSecond,slide:function(c,b){a.second_slider.slider("option",
"value",b.value);a._onTimeChange()}});this.millisec_slider=$tp.find("#ui_tpicker_millisec_"+g).slider({orientation:"horizontal",value:this.millisec,min:c.millisecMin,max:k,step:c.stepMillisec,slide:function(c,b){a.millisec_slider.slider("option","value",b.value);a._onTimeChange()}});this.timezone_select=$tp.find("#ui_tpicker_timezone_"+g).append("<select></select>").find("select");d.fn.append.apply(this.timezone_select,d.map(c.timezoneList,function(a){return d("<option />").val(typeof a=="object"?
a.value:a).text(typeof a=="object"?a.label:a)}));this.timezone_select.val(typeof this.timezone!="undefined"&&this.timezone!=null&&this.timezone!=""?this.timezone:c.timezone);this.timezone_select.change(function(){a._onTimeChange()});c.showHour&&c.hourGrid>0&&(n=100*i*c.hourGrid/(e-c.hourMin),$tp.find(".ui_tpicker_hour table").css({width:n+"%",marginLeft:n/(-2*i)+"%",borderCollapse:"collapse"}).find("td").each(function(){d(this).click(function(){var b=d(this).html();if(c.ampm)var e=b.substring(2).toLowerCase(),
b=parseInt(b.substring(0,2),10),b=e=="a"?b==12?0:b:b==12?12:b+12;a.hour_slider.slider("option","value",b);a._onTimeChange();a._onSelectHandler()}).css({cursor:"pointer",width:100/i+"%",textAlign:"center",overflow:"hidden"})}));c.showMinute&&c.minuteGrid>0&&(n=100*m*c.minuteGrid/(f-c.minuteMin),$tp.find(".ui_tpicker_minute table").css({width:n+"%",marginLeft:n/(-2*m)+"%",borderCollapse:"collapse"}).find("td").each(function(){d(this).click(function(){a.minute_slider.slider("option","value",d(this).html());
a._onTimeChange();a._onSelectHandler()}).css({cursor:"pointer",width:100/m+"%",textAlign:"center",overflow:"hidden"})}));c.showSecond&&c.secondGrid>0&&$tp.find(".ui_tpicker_second table").css({width:n+"%",marginLeft:n/(-2*o)+"%",borderCollapse:"collapse"}).find("td").each(function(){d(this).click(function(){a.second_slider.slider("option","value",d(this).html());a._onTimeChange();a._onSelectHandler()}).css({cursor:"pointer",width:100/o+"%",textAlign:"center",overflow:"hidden"})});c.showMillisec&&
c.millisecGrid>0&&$tp.find(".ui_tpicker_millisec table").css({width:n+"%",marginLeft:n/(-2*r)+"%",borderCollapse:"collapse"}).find("td").each(function(){d(this).click(function(){a.millisec_slider.slider("option","value",d(this).html());a._onTimeChange();a._onSelectHandler()}).css({cursor:"pointer",width:100/r+"%",textAlign:"center",overflow:"hidden"})});e=b.find(".ui-datepicker-buttonpane");e.length?e.before($tp):b.append($tp);this.$timeObj=$tp.find("#ui_tpicker_time_"+g);if(this.inst!==null)b=this.timeDefined,
this._onTimeChange(),this.timeDefined=b;b=function(){a._onSelectHandler()};this.hour_slider.bind("slidestop",b);this.minute_slider.bind("slidestop",b);this.second_slider.bind("slidestop",b);this.millisec_slider.bind("slidestop",b)}},_limitMinMaxDateTime:function(b,c){var a=this._defaults,e=new Date(b.selectedYear,b.selectedMonth,b.selectedDay);if(this._defaults.showTimepicker){if(d.datepicker._get(b,"minDateTime")!==null&&d.datepicker._get(b,"minDateTime")!==void 0&&e){var f=d.datepicker._get(b,"minDateTime"),
h=new Date(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0,0);if(this.hourMinOriginal===null||this.minuteMinOriginal===null||this.secondMinOriginal===null||this.millisecMinOriginal===null)this.hourMinOriginal=a.hourMin,this.minuteMinOriginal=a.minuteMin,this.secondMinOriginal=a.secondMin,this.millisecMinOriginal=a.millisecMin;if(b.settings.timeOnly||h.getTime()==e.getTime())if(this._defaults.hourMin=f.getHours(),this.hour<=this._defaults.hourMin)if(this.hour=this._defaults.hourMin,this._defaults.minuteMin=
f.getMinutes(),this.minute<=this._defaults.minuteMin)this.minute=this._defaults.minuteMin,this._defaults.secondMin=f.getSeconds();else if(this.second<=this._defaults.secondMin)this.second=this._defaults.secondMin,this._defaults.millisecMin=f.getMilliseconds();else{if(this.millisec<this._defaults.millisecMin)this.millisec=this._defaults.millisecMin;this._defaults.millisecMin=this.millisecMinOriginal}else this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,
this._defaults.millisecMin=this.millisecMinOriginal;else this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal}if(d.datepicker._get(b,"maxDateTime")!==null&&d.datepicker._get(b,"maxDateTime")!==void 0&&e){f=d.datepicker._get(b,"maxDateTime");h=new Date(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0,0);if(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||
this.secondMaxOriginal===null)this.hourMaxOriginal=a.hourMax,this.minuteMaxOriginal=a.minuteMax,this.secondMaxOriginal=a.secondMax,this.millisecMaxOriginal=a.millisecMax;if(b.settings.timeOnly||h.getTime()==e.getTime())if(this._defaults.hourMax=f.getHours(),this.hour>=this._defaults.hourMax)if(this.hour=this._defaults.hourMax,this._defaults.minuteMax=f.getMinutes(),this.minute>=this._defaults.minuteMax)this.minute=this._defaults.minuteMax,this._defaults.secondMax=f.getSeconds();else if(this.second>=
this._defaults.secondMax)this.second=this._defaults.secondMax,this._defaults.millisecMax=f.getMilliseconds();else{if(this.millisec>this._defaults.millisecMax)this.millisec=this._defaults.millisecMax;this._defaults.millisecMax=this.millisecMaxOriginal}else this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal;else this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,
this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal}c!==void 0&&c===true&&(a=(this._defaults.hourMax-this._defaults.hourMax%this._defaults.stepHour).toFixed(0),e=(this._defaults.minuteMax-this._defaults.minuteMax%this._defaults.stepMinute).toFixed(0),f=(this._defaults.secondMax-this._defaults.secondMax%this._defaults.stepSecond).toFixed(0),h=(this._defaults.millisecMax-this._defaults.millisecMax%this._defaults.stepMillisec).toFixed(0),this.hour_slider&&
this.hour_slider.slider("option",{min:this._defaults.hourMin,max:a}).slider("value",this.hour),this.minute_slider&&this.minute_slider.slider("option",{min:this._defaults.minuteMin,max:e}).slider("value",this.minute),this.second_slider&&this.second_slider.slider("option",{min:this._defaults.secondMin,max:f}).slider("value",this.second),this.millisec_slider&&this.millisec_slider.slider("option",{min:this._defaults.millisecMin,max:h}).slider("value",this.millisec))}},_onTimeChange:function(){var b=this.hour_slider?
this.hour_slider.slider("value"):false,c=this.minute_slider?this.minute_slider.slider("value"):false,a=this.second_slider?this.second_slider.slider("value"):false,e=this.millisec_slider?this.millisec_slider.slider("value"):false,f=this.timezone_select?this.timezone_select.val():false;typeof b=="object"&&(b=false);typeof c=="object"&&(c=false);typeof a=="object"&&(a=false);typeof e=="object"&&(e=false);typeof f=="object"&&(f=false);b!==false&&(b=parseInt(b,10));c!==false&&(c=parseInt(c,10));a!==false&&
(a=parseInt(a,10));e!==false&&(e=parseInt(e,10));var h=b<12?"AM":"PM",k=b!=this.hour||c!=this.minute||a!=this.second||e!=this.millisec||this.ampm.length>0&&this.ampm!=h||f!=this.timezone;if(k){if(b!==false)this.hour=b;if(c!==false)this.minute=c;if(a!==false)this.second=a;if(e!==false)this.millisec=e;if(f!==false)this.timezone=f;if(!this.inst)this.inst=d.datepicker._getInst(this.$input[0]);this._limitMinMaxDateTime(this.inst,true)}if(this._defaults.ampm)this.ampm=h;this._formatTime();this.$timeObj&&
this.$timeObj.text(this.formattedTime+this._defaults.timeSuffix);this.timeDefined=true;k&&this._updateDateTime()},_onSelectHandler:function(){var b=this._defaults.onSelect,c=this.$input?this.$input[0]:null;b&&c&&b.apply(c,[this.formattedDateTime,this])},_formatTime:function(b,c,a){if(a==void 0)a=this._defaults.ampm;var b=b||{hour:this.hour,minute:this.minute,second:this.second,millisec:this.millisec,ampm:this.ampm,timezone:this.timezone},e=c||this._defaults.timeFormat.toString();if(a)var f=b.ampm==
"AM"?b.hour:b.hour%12,f=Number(f)===0?12:f,e=e.toString().replace(/hh/g,(f<10?"0":"")+f).replace(/h/g,f).replace(/mm/g,(b.minute<10?"0":"")+b.minute).replace(/m/g,b.minute).replace(/ss/g,(b.second<10?"0":"")+b.second).replace(/s/g,b.second).replace(/l/g,(b.millisec<10?"00":b.millisec<100?"0":"")+b.millisec).replace(/TT/g,b.ampm.toUpperCase()).replace(/Tt/g,b.ampm.toUpperCase()).replace(/tT/g,b.ampm.toLowerCase()).replace(/tt/g,b.ampm.toLowerCase()).replace(/T/g,b.ampm.charAt(0).toUpperCase()).replace(/t/g,
b.ampm.charAt(0).toLowerCase()).replace(/z/g,b.timezone);else e=e.toString().replace(/hh/g,(b.hour<10?"0":"")+b.hour).replace(/h/g,b.hour).replace(/mm/g,(b.minute<10?"0":"")+b.minute).replace(/m/g,b.minute).replace(/ss/g,(b.second<10?"0":"")+b.second).replace(/s/g,b.second).replace(/l/g,(b.millisec<10?"00":b.millisec<100?"0":"")+b.millisec).replace(/z/g,b.timezone),e=d.trim(e.replace(/t/gi,""));if(arguments.length)return e;else this.formattedTime=e},_updateDateTime:function(b){b=this.inst||b;dt=new Date(b.selectedYear,
b.selectedMonth,b.selectedDay);dateFmt=d.datepicker._get(b,"dateFormat");formatCfg=d.datepicker._getFormatConfig(b);timeAvailable=dt!==null&&this.timeDefined;var c=this.formattedDate=d.datepicker.formatDate(dateFmt,dt===null?new Date:dt,formatCfg);if(!(b.lastVal!==void 0&&b.lastVal.length>0&&this.$input.val().length===0)){if(this._defaults.timeOnly===true)c=this.formattedTime;else if(this._defaults.timeOnly!==true&&(this._defaults.alwaysSetTime||timeAvailable))c+=this._defaults.separator+this.formattedTime+
this._defaults.timeSuffix;this.formattedDateTime=c;this._defaults.showTimepicker?this.$altInput&&this._defaults.altFieldTimeOnly===true?(this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate)):(this.$altInput&&this.$altInput.val(c),this.$input.val(c)):this.$input.val(this.formattedDate);this.$input.trigger("change")}}});d.fn.extend({timepicker:function(b){var b=b||{},c=arguments;typeof b=="object"&&(c[0]=d.extend(b,{timeOnly:true}));return d(this).each(function(){d.fn.datetimepicker.apply(d(this),
c)})},datetimepicker:function(b){var b=b||{},c=arguments;return typeof b=="string"?b=="getDate"?d.fn.datepicker.apply(d(this[0]),c):this.each(function(){var a=d(this);a.datepicker.apply(a,c)}):this.each(function(){var a=d(this);a.datepicker(d.timepicker._newInst(a,b)._defaults)})}});d.datepicker._base_selectDate=d.datepicker._selectDate;d.datepicker._selectDate=function(b,c){var a=this._getInst(d(b)[0]),e=this._get(a,"timepicker");e?(e._limitMinMaxDateTime(a,true),a.inline=a.stay_open=true,this._base_selectDate(b,
c),a.inline=a.stay_open=false,this._notifyChange(a),this._updateDatepicker(a)):this._base_selectDate(b,c)};d.datepicker._base_updateDatepicker=d.datepicker._updateDatepicker;d.datepicker._updateDatepicker=function(b){var c=b.input[0];if(!d.datepicker._curInst||!(d.datepicker._curInst!=b&&d.datepicker._datepickerShowing&&d.datepicker._lastInput!=c))if(typeof b.stay_open!=="boolean"||b.stay_open===false)this._base_updateDatepicker(b),(c=this._get(b,"timepicker"))&&c._addTimePicker(b)};d.datepicker._base_doKeyPress=
d.datepicker._doKeyPress;d.datepicker._doKeyPress=function(b){var c=d.datepicker._getInst(b.target),a=d.datepicker._get(c,"timepicker");if(a&&d.datepicker._get(c,"constrainInput")){var e=a._defaults.ampm,c=d.datepicker._possibleChars(d.datepicker._get(c,"dateFormat")),a=a._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,e?"APM":"").replace(/Tt/g,e?"AaPpMm":"").replace(/tT/g,e?"AaPpMm":"").replace(/T/g,e?"AP":"").replace(/tt/g,e?"apm":"").replace(/t/g,e?"ap":"")+" "+a._defaults.separator+
a._defaults.timeSuffix+(a._defaults.showTimezone?a._defaults.timezoneList.join(""):"")+c,e=String.fromCharCode(b.charCode===void 0?b.keyCode:b.charCode);return b.ctrlKey||e<" "||!c||a.indexOf(e)>-1}return d.datepicker._base_doKeyPress(b)};d.datepicker._base_doKeyUp=d.datepicker._doKeyUp;d.datepicker._doKeyUp=function(b){var c=d.datepicker._getInst(b.target),a=d.datepicker._get(c,"timepicker");if(a&&a._defaults.timeOnly&&c.input.val()!=c.lastVal)try{d.datepicker._updateDatepicker(c)}catch(e){d.datepicker.log(e)}return d.datepicker._base_doKeyUp(b)};
d.datepicker._base_gotoToday=d.datepicker._gotoToday;d.datepicker._gotoToday=function(b){var c=this._getInst(d(b)[0]),a=c.dpDiv;this._base_gotoToday(b);var b=new Date,e=this._get(c,"timepicker");if(e._defaults.showTimezone&&e.timezone_select){var f=b.getTimezoneOffset(),h=f>0?"-":"+",f=Math.abs(f),k=f%60,f=h+("0"+(f-k)/60).slice(-2)+("0"+k).slice(-2);e._defaults.timezoneIso8609&&(f=f.substring(0,3)+":"+f.substring(3));e.timezone_select.val(f)}this._setTime(c,b);d(".ui-datepicker-today",a).click()};
d.datepicker._disableTimepickerDatepicker=function(b){var c=this._getInst(b),a=this._get(c,"timepicker");d(b).datepicker("getDate");if(a)a._defaults.showTimepicker=false,a._updateDateTime(c)};d.datepicker._enableTimepickerDatepicker=function(b){var c=this._getInst(b),a=this._get(c,"timepicker");d(b).datepicker("getDate");if(a)a._defaults.showTimepicker=true,a._addTimePicker(c),a._updateDateTime(c)};d.datepicker._setTime=function(b,c){var a=this._get(b,"timepicker");if(a){var d=a._defaults,f=c?c.getHours():
d.hour,h=c?c.getMinutes():d.minute,k=c?c.getSeconds():d.second,g=c?c.getMilliseconds():d.millisec;if(f<d.hourMin||f>d.hourMax||h<d.minuteMin||h>d.minuteMax||k<d.secondMin||k>d.secondMax||g<d.millisecMin||g>d.millisecMax)f=d.hourMin,h=d.minuteMin,k=d.secondMin,g=d.millisecMin;a.hour=f;a.minute=h;a.second=k;a.millisec=g;a.hour_slider&&a.hour_slider.slider("value",f);a.minute_slider&&a.minute_slider.slider("value",h);a.second_slider&&a.second_slider.slider("value",k);a.millisec_slider&&a.millisec_slider.slider("value",
g);a._onTimeChange();a._updateDateTime(b)}};d.datepicker._setTimeDatepicker=function(b,c,a){var b=this._getInst(b),d=this._get(b,"timepicker");d&&(this._setDateFromField(b),c&&(typeof c=="string"?(d._parseTime(c,a),c=new Date,c.setHours(d.hour,d.minute,d.second,d.millisec)):c=new Date(c.getTime()),c.toString()=="Invalid Date"&&(c=void 0),this._setTime(b,c)))};d.datepicker._base_setDateDatepicker=d.datepicker._setDateDatepicker;d.datepicker._setDateDatepicker=function(b,c){var a=this._getInst(b),d=
c instanceof Date?new Date(c.getTime()):c;this._updateDatepicker(a);this._base_setDateDatepicker.apply(this,arguments);this._setTimeDatepicker(b,d,true)};d.datepicker._base_getDateDatepicker=d.datepicker._getDateDatepicker;d.datepicker._getDateDatepicker=function(b,c){var a=this._getInst(b),e=this._get(a,"timepicker");return e?(this._setDateFromField(a,c),(a=this._getDate(a))&&e._parseTime(d(b).val(),e.timeOnly)&&a.setHours(e.hour,e.minute,e.second,e.millisec),a):this._base_getDateDatepicker(b,c)};
d.datepicker._base_parseDate=d.datepicker.parseDate;d.datepicker.parseDate=function(b,c,a){var d;try{d=this._base_parseDate(b,c,a)}catch(f){d=this._base_parseDate(b,c.substring(0,c.length-(f.length-f.indexOf(":")-2)),a)}return d};d.datepicker._base_formatDate=d.datepicker._formatDate;d.datepicker._formatDate=function(b,c,a,d){var f=this._get(b,"timepicker");return f?(c&&this._base_formatDate(b,c,a,d),f._updateDateTime(),f.$input.val()):this._base_formatDate(b)};d.datepicker._base_optionDatepicker=
d.datepicker._optionDatepicker;d.datepicker._optionDatepicker=function(b,c,a){var d=this._get(this._getInst(b),"timepicker");if(d){var f,h,k;if(typeof c=="string")c==="minDate"||c==="minDateTime"?f=a:c==="maxDate"||c==="maxDateTime"?h=a:c==="onSelect"&&(k=a);else if(typeof c=="object")if(c.minDate)f=c.minDate;else if(c.minDateTime)f=c.minDateTime;else if(c.maxDate)h=c.maxDate;else if(c.maxDateTime)h=c.maxDateTime;if(f)f=f==0?new Date:new Date(f),d._defaults.minDate=f,d._defaults.minDateTime=f;else if(h)h=
h==0?new Date:new Date(h),d._defaults.maxDate=h,d._defaults.maxDateTime=h;else if(k)d._defaults.onSelect=k}this._base_optionDatepicker(b,c,a)};d.timepicker=new i;d.timepicker.version="0.9.7"})(jQuery);
(function(d){function i(a){d(a).parent().find("div").text(a.value+" ")}function b(a){h[a]||(h[a]=true,d(a).delegate(".expandingText textarea","input propertychange",function(){i(this)}))}var c="lineHeight,textDecoration,letterSpacing,fontSize,fontFamily,fontStyle,fontWeight,textTransform,textAlign,direction,wordSpacing,fontSizeAdjust,whiteSpace,wordWrap,borderLeftWidth,borderRightWidth,borderTopWidth,borderBottomWidth,paddingLeft,paddingRight,paddingTop,paddingBottom,marginLeft,marginRight,marginTop,marginBottom".split(","),a=
{position:"absolute",height:"100%",resize:"none",margin:"0"},e={visibility:"hidden",margin:"0",border:"0 solid"},f={position:"relative",margin:"0",padding:"0"},h={};d.fn.expandingTextarea=function(){return this.filter("textarea").not(".expanding-init").each(function(){b(this.ownerDocument||document);var h=d(this).addClass("expanding-init");h.wrap("<div class='expandingText'></div>");h.after("<pre class='textareaClone'><div></div></pre>");var g=h.parent().css(f).find("pre").css(e);h.css(a);d.each(c,
function(a,b){var c=h.css(b);g.css(b)!==c&&g.css(b,c)});i(this)})};d.fn.expandingTextarea.initialSelector="textarea.expanding";d(function(){d(d.fn.expandingTextarea.initialSelector).expandingTextarea()})})(jQuery);
(function(d){function i(a,b){var c=a.parents(".element"),c=d(".modifiers",c);c.length||(c=d("<span />").addClass("modifiers"),a.after(c));c.append(b)}function b(a){var b=d("<button />",{text:"Remove"}).button({icons:{primary:"ui-icon-circle-minus"},text:false}).addClass("delete");b[0].setAttribute("type","button");d(".allowDeletion",a).each(function(){i(d(this),b.clone(true))})}function c(a){var b=d("<button />",{text:"Add multiple"}).button({icons:{primary:"ui-icon-circle-plus"},text:false}).addClass("duplicate");
b[0].setAttribute("type","button");d(".allowDuplication",a).each(function(){i(d(this),b.clone(true))})}function a(a,b){var c=function(a,c){if(c!==void 0){if(c.length>2&&c.substr(-2)==="[]")return c;else if(c.length)return c+"-"+b;return""}};d("[id], [name], [for]",a).attr("id",c).attr("name",c).attr("for",c)}function e(){var a=d(this);a.autocomplete({source:a.data("options"),minLength:a.data("minLength")||0,delay:a.data("delay")||300})}d(function(){var a=d(".form .element");b(a);c(a);d(a).live({"delete":function(){d(this).removeElement()},
duplicate:function(){d(this).duplicateElement()}});d("button.delete",a).live({click:function(){d(this).trigger("delete");return false}});d("button.duplicate",a).live({click:function(){d(this).trigger("duplicate");return false}});d(".modifiers",a).buttonset();a.find(".autocomplete").each(e).end();d('input[type="date"]',a).datepicker({dateFormat:"yy-mm-dd"});d('input[type="month"]',a).datepicker({dateFormat:"yy-mm"});d('input[type="datetime"]',a).datetimepicker({dateFormat:"yy-mm-dd",separator:"T",
timeFormat:"hh:mm:ssz",timezoneIso8609:true});d('input[type="time"]',a).timepicker({timeFormat:"hh:mm:ssz",timezoneIso8609:true});a.filter(".sortable").length&&d(".form").sortable({items:".element.sortable"});a.end()});d.fn.duplicateElement=function(){return this.each(function(){var b=d(this),c=b;d("table.datagrid",b).length>0&&(c=d("tbody tr:last",b),b=d("tbody tr:not(.clone):last",b));var e=b.clone().addClass("clone");b.data("cloneLength",(b.data("cloneLength")||0)+1);b.data("cloneCount",(b.data("cloneCount")||
0)+1);e.data("original",b);d(".allowDuplication",e).removeClass("allowDuplication");d(".duplicate",e).remove();d("input",e).val("");d('input[type="checkbox"]',e).attr("checked",false);var g;g=b.data("cloneCount");var i=4;i-=g.toString().length;g=i>0?Array(i+(/\./.test(g)?2:1)).join("0")+g:g;a(e,"clone"+g);c.after(e);e.trigger("afterduplicate",{original:b});d("input:first",e).focus()})};d.fn.removeElement=function(){return this.each(function(){current=d(this);if(d(".confirm",current).length&&(confirmMsg=
"Are you sure you want to remove this?",!confirm(confirmMsg)))return;current.hasClass("clone")&&(original=current.data("original"),original.data("cloneLength",(original.data("cloneLength")||0)-1));current.remove()})}})(jQuery);(function(d){d(function(){d(".list li:even:not(.header)").addClass("alt")})})(jQuery);
(function(d){function i(c){var a=d(this),e=a.attr("href"),a=a.parents("td").data("title")||"this item";b||(b=d("<div />",{title:"Delete item?"}),b.appendTo(d("body")));c.preventDefault();b.empty().append(d("<p />",{text:"Are you sure you want to remove "+a+"?"}));b.dialog({resizable:false,modal:true,buttons:{"Delete Item":function(){window.location.href=e},Cancel:function(){b.dialog("close")}}})}var b;d.fn.datagrid=function(b){var a=d.extend({},d.fn.datagrid.defaults,b);return this.each(function(){$this=
d(this);var b=d.meta?d.extend({},a,$this.data()):a;$this.addClass(b.classDatagrid).addClass(b.classActive);d("a.delete",$this).click(i)})};d.fn.datagrid.version="0.1.0";d.fn.datagrid.defaults={classActive:"active",classDatagrid:"datagrid",columnExp:/column-([0-9]+)/i}})(jQuery);
