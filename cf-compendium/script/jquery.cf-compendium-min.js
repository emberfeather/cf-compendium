(function(e){e.cfc={}})(jQuery);(function(e){e.wait=function(g){var d=e.Deferred();setTimeout(function(){d.resolve()},g);return d}})(jQuery);
(function(e){function g(){var a;a=e(this);if(!a.data("timeago")){a.data("timeago",{datetime:c.datetime(a)});var b=e.trim(a.text());b.length>0&&a.attr("title",b)}a=a.data("timeago");isNaN(a.datetime)||e(this).text(d(a.datetime));return this}function d(a){return c.inWords((new Date).getTime()-a.getTime())}e.timeago=function(a){return a instanceof Date?d(a):typeof a==="string"?d(e.timeago.parse(a)):d(e.timeago.datetime(a))};var c=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6E4,allowFuture:!1,
strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[]}},inWords:function(a){function b(b,c){return(e.isFunction(b)?b(c,a):b).replace(/%d/i,f.numbers&&f.numbers[c]||c)}var f=this.settings.strings,c=f.prefixAgo,d=f.suffixAgo;if(this.settings.allowFuture){if(a<
0)c=f.prefixFromNow,d=f.suffixFromNow;a=Math.abs(a)}var i=a/1E3,h=i/60,g=h/60,j=g/24,n=j/365,i=i<45&&b(f.seconds,Math.round(i))||i<90&&b(f.minute,1)||h<45&&b(f.minutes,Math.round(h))||h<90&&b(f.hour,1)||g<24&&b(f.hours,Math.round(g))||g<48&&b(f.day,1)||j<30&&b(f.days,Math.floor(j))||j<60&&b(f.month,1)||j<365&&b(f.months,Math.floor(j/30))||n<2&&b(f.year,1)||b(f.years,Math.floor(n));return e.trim([c,i,d].join(" "))},parse:function(a){a=e.trim(a);a=a.replace(/\.\d\d\d+/,"");a=a.replace(/-/,"/").replace(/-/,
"/");a=a.replace(/T/," ").replace(/Z/," UTC");a=a.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");return new Date(a)},datetime:function(a){a=e(a).get(0).tagName.toLowerCase()==="time"?e(a).attr("datetime"):e(a).attr("title");return c.parse(a)}});e.fn.timeago=function(){var a=this;a.each(g);var b=c.settings;b.refreshMillis>0&&setInterval(function(){a.each(g)},b.refreshMillis);return a};document.createElement("abbr");document.createElement("time")})(jQuery);
jQuery.cookie=function(e,g,d){if(arguments.length>1&&(g===null||typeof g!=="object")){d=jQuery.extend({},d);if(g===null)d.expires=-1;if(typeof d.expires==="number"){var c=d.expires,a=d.expires=new Date;a.setDate(a.getDate()+c)}return document.cookie=[encodeURIComponent(e),"=",d.raw?String(g):encodeURIComponent(String(g)),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")}d=g||{};a=d.raw?function(a){return a}:
decodeURIComponent;return(c=RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?a(c[1]):null};
(function(e){function g(f,a){var b=f.parents(".element"),b=e(".modifiers",b);b.length||(b=e("<span />").addClass("modifiers"),f.after(b));b.append(a)}function d(f){var a=e("<button />",{text:"Remove"}).button({icons:{primary:"ui-icon-circle-minus"},text:!1}).addClass("delete");a[0].setAttribute("type","button");e(".allowDeletion",f).each(function(){g(e(this),a.clone(!0))})}function c(f){var a=e("<button />",{text:"Add multiple"}).button({icons:{primary:"ui-icon-circle-plus"},text:!1}).addClass("duplicate");
a[0].setAttribute("type","button");e(".allowDuplication",f).each(function(){g(e(this),a.clone(!0))})}function a(f,a){adjust=function(f,b){return b===void 0?void 0:b===""?"":b+"-"+a};e("[id], [name], [for]",f).attr("id",adjust).attr("name",adjust).attr("for",adjust)}function b(){var f=e(this);f.autocomplete({source:f.data("options"),minLength:f.data("minLength")||0,delay:f.data("delay")||300})}e(function(){var f=e(".form .element");d(f);c(f);e(f).live({"delete":function(){e(this).removeElement()},
duplicate:function(){e(this).duplicateElement()}});e("button.delete",f).live({click:function(){e(this).trigger("delete");return!1}});e("button.duplicate",f).live({click:function(){e(this).trigger("duplicate");return!1}});e(".modifiers",f).buttonset();f.find(".autocomplete").each(b).end();e('input[type="date"]',f).datepicker({dateFormat:"yy-mm-dd"});e('input[type="month"]',f).datepicker({dateFormat:"yy-mm"});e('input[type="datetime"]',f).datetimepicker({dateFormat:"yy-mm-dd",separator:"T",timeFormat:"hh:mm:ssz",
timezoneIso8609:!0});e('input[type="time"]',f).timepicker({timeFormat:"hh:mm:ssz",timezoneIso8609:!0});f.filter(".sortable").length&&e(".form").sortable({items:".element.sortable"});f.end();e(".elastic",f).elastic();e(".chosen",f).chosen()});e.fn.duplicateElement=function(){return this.each(function(){var f=e(this),b=f;e("table.datagrid",f).length>0&&(b=e("tbody tr:last",f),f=e("tbody tr:not(.clone):last",f));var c=f.clone().addClass("clone");f.data("cloneLength",(f.data("cloneLength")||0)+1);f.data("cloneCount",
(f.data("cloneCount")||0)+1);c.data("original",f);e(".allowDuplication",c).removeClass("allowDuplication");e(".duplicate",c).remove();e("input",c).val("");e('input[type="checkbox"]',c).attr("checked",!1);var d;d=f.data("cloneCount");var h=4;h-=d.toString().length;d=h>0?Array(h+(/\./.test(d)?2:1)).join("0")+d:d;a(c,"clone"+d);b.after(c);c.trigger("afterduplicate",{original:f});e("input:first",c).focus()})};e.fn.removeElement=function(){return this.each(function(){current=e(this);if(e(".confirm",current).length&&
(confirmMsg="Are you sure you want to remove this?",!confirm(confirmMsg)))return;current.hasClass("clone")&&(original=current.data("original"),original.data("cloneLength",(original.data("cloneLength")||0)-1));current.remove()})}})(jQuery);(function(e){e(function(){e(".list li:even:not(.header)").addClass("alt")})})(jQuery);
(function(e){function g(c){var a=e(this),b=a.attr("href"),a=a.parents("td").data("title")||"this item";d||(d=e("<div />",{title:"Delete item?"}),d.appendTo(e("body")));c.preventDefault();d.empty().append(e("<p />",{text:"Are you sure you want to remove "+a+"?"}));d.dialog({resizable:!1,modal:!0,buttons:{"Delete Item":function(){window.location.href=b},Cancel:function(){d.dialog("close")}}})}var d;e.fn.datagrid=function(c){var a=e.extend({},e.fn.datagrid.defaults,c);return this.each(function(){$this=
e(this);var b=e.meta?e.extend({},a,$this.data()):a;$this.addClass(b.classDatagrid).addClass(b.classActive);e("a.delete",$this).click(g)})};e.fn.datagrid.version="0.1.0";e.fn.datagrid.defaults={classActive:"active",classDatagrid:"datagrid",columnExp:/column-([0-9]+)/i}})(jQuery);
(function(){var e,g,d,c,a=function(a,f){return function(){return a.apply(f,arguments)}};c=this;e=jQuery;e.fn.extend({chosen:function(a,f){return e(this).each(function(){if(!e(this).hasClass("chzn-done"))return new g(this,a,f)})}});g=function(){function b(f){this.set_default_values();this.form_field=f;this.form_field_jq=e(this.form_field);this.is_multiple=this.form_field.multiple;this.is_rtl=this.form_field_jq.hasClass("chzn-rtl");this.default_text_default=this.form_field.multiple?"Select Some Options":
"Select an Option";this.set_up_html();this.register_observers();this.form_field_jq.addClass("chzn-done")}b.prototype.set_default_values=function(){this.click_test_action=a(function(f){return this.test_active_click(f)},this);this.active_field=!1;this.mouse_on_container=!1;this.results_showing=!1;this.result_highlighted=null;this.result_single_selected=null;return this.choices=0};b.prototype.set_up_html=function(){var f,a,b,c;this.container_id=this.form_field.id.length?this.form_field.id.replace(/(:|\.)/g,
"_"):this.generate_field_id();this.container_id+="_chzn";this.f_width=this.form_field_jq.width();this.default_text=this.form_field_jq.data("placeholder")?this.form_field_jq.data("placeholder"):this.default_text_default;f=e("<div />",{id:this.container_id,"class":"chzn-container "+(this.is_rtl?"chzn-rtl":""),style:"width: "+this.f_width+"px;"});this.is_multiple?f.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):
f.html('<a href="javascript:void(0)" class="chzn-single"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>');this.form_field_jq.hide().after(f);this.container=e("#"+this.container_id);this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single"));this.dropdown=this.container.find("div.chzn-drop").first();a=this.container.height();
b=this.f_width-d(this.dropdown);this.dropdown.css({width:b+"px",top:a+"px"});this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chzn-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),
this.selected_item=this.container.find(".chzn-single").first(),c=b-d(this.search_container)-d(this.search_field),this.search_field.css({width:c+"px"}));this.results_build();return this.set_tab_index()};b.prototype.register_observers=function(){this.container.click(a(function(f){return this.container_click(f)},this));this.container.mouseenter(a(function(f){return this.mouse_enter(f)},this));this.container.mouseleave(a(function(f){return this.mouse_leave(f)},this));this.search_results.click(a(function(f){return this.search_results_click(f)},
this));this.search_results.mouseover(a(function(f){return this.search_results_mouseover(f)},this));this.search_results.mouseout(a(function(f){return this.search_results_mouseout(f)},this));this.form_field_jq.bind("liszt:updated",a(function(f){return this.results_update_field(f)},this));this.search_field.blur(a(function(f){return this.input_blur(f)},this));this.search_field.keyup(a(function(f){return this.keyup_checker(f)},this));this.search_field.keydown(a(function(f){return this.keydown_checker(f)},
this));return this.is_multiple?(this.search_choices.click(a(function(f){return this.choices_click(f)},this)),this.search_field.focus(a(function(f){return this.input_focus(f)},this))):this.selected_item.focus(a(function(f){return this.activate_field(f)},this))};b.prototype.container_click=function(f){f&&f.type==="click"&&f.stopPropagation();return!this.pending_destroy_click?(this.active_field?!this.is_multiple&&f&&(e(f.target)===this.selected_item||e(f.target).parents("a.chzn-single").length)&&(f.preventDefault(),
this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).click(this.click_test_action),this.results_show()),this.activate_field()):this.pending_destroy_click=!1};b.prototype.mouse_enter=function(){return this.mouse_on_container=!0};b.prototype.mouse_leave=function(){return this.mouse_on_container=!1};b.prototype.input_focus=function(){if(!this.active_field)return setTimeout(a(function(){return this.container_click()},this),50)};b.prototype.input_blur=function(){if(!this.mouse_on_container)return this.active_field=
!1,setTimeout(a(function(){return this.blur_test()},this),100)};b.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chzn-container-active"))return this.close_field()};b.prototype.close_field=function(){e(document).unbind("click",this.click_test_action);this.is_multiple||(this.selected_item.attr("tabindex",this.search_field.attr("tabindex")),this.search_field.attr("tabindex",-1));this.active_field=!1;this.results_hide();this.container.removeClass("chzn-container-active");
this.winnow_results_clear();this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};b.prototype.activate_field=function(){!this.is_multiple&&!this.active_field&&(this.search_field.attr("tabindex",this.selected_item.attr("tabindex")),this.selected_item.attr("tabindex",-1));this.container.addClass("chzn-container-active");this.active_field=!0;this.search_field.val(this.search_field.val());return this.search_field.focus()};b.prototype.test_active_click=function(f){return e(f.target).parents("#"+
this.container_id).length?this.active_field=!0:this.close_field()};b.prototype.results_build=function(){var f,a,b,d,e;this.parsing=!0;this.results_data=c.SelectParser.select_to_array(this.form_field);this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||this.selected_item.find("span").text(this.default_text);f="";e=this.results_data;for(b=0,d=e.length;b<d;b++)a=e[b],a.group?f+=this.result_add_group(a):a.empty||(f+=this.result_add_option(a),
a.selected&&this.is_multiple?this.choice_build(a):a.selected&&!this.is_multiple&&this.selected_item.find("span").text(a.text));this.show_search_field_default();this.search_field_scale();this.search_results.html(f);return this.parsing=!1};b.prototype.result_add_group=function(f){return!f.disabled?(f.dom_id=this.container_id+"_g_"+f.array_index,'<li id="'+f.dom_id+'" class="group-result">'+e("<div />").text(f.label).html()+"</li>"):""};b.prototype.result_add_option=function(f){var a;return!f.disabled?
(f.dom_id=this.container_id+"_o_"+f.array_index,a=f.selected&&this.is_multiple?[]:["active-result"],f.selected&&a.push("result-selected"),f.group_array_index!=null&&a.push("group-option"),'<li id="'+f.dom_id+'" class="'+a.join(" ")+'">'+f.html+"</li>"):""};b.prototype.results_update_field=function(){this.result_clear_highlight();this.result_single_selected=null;return this.results_build()};b.prototype.result_do_highlight=function(f){var a,b,c,d;if(f.length){this.result_clear_highlight();this.result_highlight=
f;this.result_highlight.addClass("highlighted");b=parseInt(this.search_results.css("maxHeight"),10);d=this.search_results.scrollTop();c=b+d;a=this.result_highlight.position().top+this.search_results.scrollTop();f=a+this.result_highlight.outerHeight();if(f>=c)return this.search_results.scrollTop(f-b>0?f-b:0);if(a<d)return this.search_results.scrollTop(a)}};b.prototype.result_clear_highlight=function(){this.result_highlight&&this.result_highlight.removeClass("highlighted");return this.result_highlight=
null};b.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()};b.prototype.results_show=function(){var f;this.is_multiple||(this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected));f=this.is_multiple?this.container.height():this.container.height()-1;this.dropdown.css({top:f+"px",left:0});this.results_showing=!0;this.search_field.focus();this.search_field.val(this.search_field.val());
return this.winnow_results()};b.prototype.results_hide=function(){this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop");this.result_clear_highlight();this.dropdown.css({left:"-9000px"});return this.results_showing=!1};b.prototype.set_tab_index=function(){var f;if(this.form_field_jq.attr("tabindex")){f=this.form_field_jq.attr("tabindex");this.form_field_jq.attr("tabindex",-1);if(this.is_multiple)return this.search_field.attr("tabindex",f);this.selected_item.attr("tabindex",f);return this.search_field.attr("tabindex",
-1)}};b.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices<1&&!this.active_field)return this.search_field.val(this.default_text),this.search_field.addClass("default");this.search_field.val("");return this.search_field.removeClass("default")};b.prototype.search_results_click=function(f){var a;a=e(f.target).hasClass("active-result")?e(f.target):e(f.target).parents(".active-result").first();if(a.length)return this.result_highlight=a,this.result_select(f)};b.prototype.search_results_mouseover=
function(a){if(a=e(a.target).hasClass("active-result")?e(a.target):e(a.target).parents(".active-result").first())return this.result_do_highlight(a)};b.prototype.search_results_mouseout=function(a){if(e(a.target).hasClass("active-result"))return this.result_clear_highlight()};b.prototype.choices_click=function(a){a.preventDefault();if(this.active_field&&!e(a.target).hasClass("search-choice")&&!this.results_showing)return this.results_show()};b.prototype.choice_build=function(f){var b;b=this.container_id+
"_c_"+f.array_index;this.choices+=1;this.search_container.before('<li class="search-choice" id="'+b+'"><span>'+f.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+f.array_index+'"></a></li>');f=e("#"+b).find("a").first();return f.click(a(function(a){return this.choice_destroy_link_click(a)},this))};b.prototype.choice_destroy_link_click=function(a){a.preventDefault();this.pending_destroy_click=!0;return this.choice_destroy(e(a.target))};b.prototype.choice_destroy=function(a){this.choices-=
1;this.show_search_field_default();this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide();this.result_deselect(a.attr("rel"));return a.parents("li").first().remove()};b.prototype.result_select=function(a){var b,c,d,e;if(this.result_highlight)return b=this.result_highlight,c=b.attr("id"),this.result_clear_highlight(),b.addClass("result-selected"),this.is_multiple?this.result_deactivate(b):this.result_single_selected=b,e=c.substr(c.lastIndexOf("_")+1),d=this.results_data[e],
d.selected=!0,this.form_field.options[d.options_index].selected=!0,this.is_multiple?this.choice_build(d):this.selected_item.find("span").first().text(d.text),(!a.metaKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),this.form_field_jq.trigger("change"),this.search_field_scale()};b.prototype.result_activate=function(a){return a.addClass("active-result").show()};b.prototype.result_deactivate=function(a){return a.removeClass("active-result").hide()};b.prototype.result_deselect=function(a){var b,
c;c=this.results_data[a];c.selected=!1;this.form_field.options[c.options_index].selected=!1;b=e("#"+this.container_id+"_o_"+a);b.removeClass("result-selected").addClass("active-result").show();this.result_clear_highlight();this.winnow_results();this.form_field_jq.trigger("change");return this.search_field_scale()};b.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()};b.prototype.winnow_results=function(){var a,b,c,d,h,g,j,n,q,l,k,o,p,u,v,t;this.no_results_clear();
j=0;n=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html();h=RegExp("^"+n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");k=RegExp(n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");t=this.results_data;for(o=0,u=t.length;o<u;o++)if(b=t[o],!b.disabled&&!b.empty)if(b.group)e("#"+b.dom_id).hide();else if(!this.is_multiple||!b.selected){a=!1;g=b.dom_id;if(h.test(b.html))a=!0,j+=1;else if(b.html.indexOf(" ")>=0||b.html.indexOf("[")===0)if(d=b.html.replace(/\[|\]/g,
"").split(" "),d.length)for(p=0,v=d.length;p<v;p++)c=d[p],h.test(c)&&(a=!0,j+=1);a?(n.length?(q=b.html.search(k),l=b.html.substr(0,q+n.length)+"</em>"+b.html.substr(q+n.length),l=l.substr(0,q)+"<em>"+l.substr(q)):l=b.html,e("#"+g).html!==l&&e("#"+g).html(l),this.result_activate(e("#"+g)),b.group_array_index!=null&&e("#"+this.results_data[b.group_array_index].dom_id).show()):(this.result_highlight&&g===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(e("#"+g)))}return j<
1&&n.length?this.no_results(n):this.winnow_results_set_highlight()};b.prototype.winnow_results_clear=function(){var a,b,c,d,h;this.search_field.val("");b=this.search_results.find("li");h=[];for(c=0,d=b.length;c<d;c++)a=b[c],a=e(a),h.push(a.hasClass("group-result")?a.show():!this.is_multiple||!a.hasClass("result-selected")?this.result_activate(a):void 0);return h};b.prototype.winnow_results_set_highlight=function(){var a,b;if(!this.result_highlight&&(b=this.is_multiple?[]:this.search_results.find(".result-selected"),
a=b.length?b.first():this.search_results.find(".active-result").first(),a!=null))return this.result_do_highlight(a)};b.prototype.no_results=function(a){var b;b=e('<li class="no-results">No results match "<span></span>"</li>');b.find("span").first().html(a);return this.search_results.append(b)};b.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};b.prototype.keydown_arrow=function(){var a,b;this.result_highlight?this.results_showing&&(b=this.result_highlight.nextAll("li.active-result").first(),
b&&this.result_do_highlight(b)):(a=this.search_results.find("li.active-result").first(),a&&this.result_do_highlight(e(a)));if(!this.results_showing)return this.results_show()};b.prototype.keyup_arrow=function(){var a;if(!this.results_showing&&!this.is_multiple)return this.results_show();if(this.result_highlight){a=this.result_highlight.prevAll("li.active-result");if(a.length)return this.result_do_highlight(a.first());this.choices>0&&this.results_hide();return this.result_clear_highlight()}};b.prototype.keydown_backstroke=
function(){if(this.pending_backstroke)return this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke();this.pending_backstroke=this.search_container.siblings("li.search-choice").last();return this.pending_backstroke.addClass("search-choice-focus")};b.prototype.clear_backstroke=function(){this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus");return this.pending_backstroke=null};b.prototype.keyup_checker=function(a){var b,c;b=(c=a.which)!=null?
c:a.keyCode;this.search_field_scale();switch(b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:a.preventDefault();if(this.results_showing)return this.result_select(a);break;case 27:if(this.results_showing)return this.results_hide();break;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};b.prototype.keydown_checker=
function(a){var b,c;b=(c=a.which)!=null?c:a.keyCode;this.search_field_scale();b!==8&&this.pending_backstroke&&this.clear_backstroke();switch(b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.mouse_on_container=!1;break;case 13:a.preventDefault();break;case 38:a.preventDefault();this.keyup_arrow();break;case 40:this.keydown_arrow()}};b.prototype.search_field_scale=function(){var a,b,c,d,h,g,j;if(this.is_multiple){h=0;c="position:absolute; left: -1000px; top: -1000px; display:none;";
d="font-size,font-style,font-weight,font-family,line-height,text-transform,letter-spacing".split(",");for(g=0,j=d.length;g<j;g++)a=d[g],c+=a+":"+this.search_field.css(a)+";";b=e("<div />",{style:c});b.text(this.search_field.val());e("body").append(b);h=b.width()+25;b.remove();h>this.f_width-10&&(h=this.f_width-10);this.search_field.css({width:h+"px"});a=this.container.height();return this.dropdown.css({top:a+"px"})}};b.prototype.generate_field_id=function(){var a;a=this.generate_random_id();this.form_field.id=
a;return a};b.prototype.generate_random_id=function(){var a;for(a="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();e("#"+a).length>0;)a+=this.generate_random_char();return a};b.prototype.generate_random_char=function(){var a;a=Math.floor(Math.random()*36);return"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ".substring(a,a+1)};return b}();d=function(a){return a.outerWidth()-a.width()};c.get_side_border_padding=d}).call(this);
(function(){var e;e=function(){function e(){this.options_index=0;this.parsed=[]}e.prototype.add_node=function(d){return d.nodeName==="OPTGROUP"?this.add_group(d):this.add_option(d)};e.prototype.add_group=function(d){var c,a,b,f,e,g;c=this.parsed.length;this.parsed.push({array_index:c,group:!0,label:d.label,children:0,disabled:d.disabled});e=d.childNodes;g=[];for(b=0,f=e.length;b<f;b++)a=e[b],g.push(this.add_option(a,c,d.disabled));return g};e.prototype.add_option=function(d,c,a){if(d.nodeName==="OPTION")return d.text!==
""?(c!=null&&(this.parsed[c].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:d.value,text:d.text,html:d.innerHTML,selected:d.selected,disabled:a===!0?a:d.disabled,group_array_index:c})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1};return e}();e.select_to_array=function(g){var d,c,a,b;c=new e;b=g.childNodes;for(g=0,a=b.length;g<a;g++)d=b[g],c.add_node(d);return c.parsed};this.SelectParser=
e}).call(this)(function(e){function g(){this.regional=[];this.regional[""]={currentText:"Now",closeText:"Done",ampm:!1,timeFormat:"hh:mm tt",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone"};this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showMillisec:!1,showTimezone:!1,showTime:!0,stepHour:0.05,stepMinute:0.05,stepSecond:0.05,stepMillisec:0.5,
hour:0,minute:0,second:0,millisec:0,timezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,showTimepicker:!0,timezoneIso8609:!1,timezoneList:null};e.extend(this._defaults,this.regional[""])}e.extend(e.ui,{timepicker:{version:"0.9.7"}});e.extend(g.prototype,{$input:null,$altInput:null,$timeObj:null,
inst:null,hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,setDefaults:function(d){var c=this._defaults,d=d||{};e.extend(c,d);for(var a in d)if(d[a]===
null||d[a]===void 0)c[a]=d[a];return this},_newInst:function(d,c){var a=new g,b={},f;for(f in this._defaults){var r=d.attr("time:"+f);if(r)try{b[f]=eval(r)}catch(m){b[f]=r}}a._defaults=e.extend({},this._defaults,b,c,{beforeShow:function(b,d){e.isFunction(c.beforeShow)&&c.beforeShow(b,d,a)},onChangeMonthYear:function(b,f,g){a._updateDateTime(g);e.isFunction(c.onChangeMonthYear)&&c.onChangeMonthYear.call(d[0],b,f,g,a)},onClose:function(b,f){a.timeDefined===!0&&d.val()!=""&&a._updateDateTime(f);e.isFunction(c.onClose)&&
c.onClose.call(d[0],b,f,a)},timepicker:a});if(a._defaults.timezoneList===null){b=[];for(f=-11;f<=12;f++)b.push((f>=0?"+":"-")+("0"+Math.abs(f).toString()).slice(-2)+"00");a._defaults.timezoneIso8609&&(b=e.map(b,function(a){return a=="+0000"?"Z":a.substring(0,3)+":"+a.substring(3)}));a._defaults.timezoneList=b}a.hour=a._defaults.hour;a.minute=a._defaults.minute;a.second=a._defaults.second;a.millisec=a._defaults.millisec;a.ampm="";a.$input=d;if(c.altField)a.$altInput=e(c.altField).css({cursor:"pointer"}).focus(function(){d.trigger("focus")});
if(a._defaults.minDate==0||a._defaults.minDateTime==0)a._defaults.minDate=new Date;if(a._defaults.maxDate==0||a._defaults.maxDateTime==0)a._defaults.maxDate=new Date;if(a._defaults.minDate!==void 0&&a._defaults.minDate instanceof Date)a._defaults.minDateTime=new Date(a._defaults.minDate.getTime());if(a._defaults.minDateTime!==void 0&&a._defaults.minDateTime instanceof Date)a._defaults.minDate=new Date(a._defaults.minDateTime.getTime());if(a._defaults.maxDate!==void 0&&a._defaults.maxDate instanceof
Date)a._defaults.maxDateTime=new Date(a._defaults.maxDate.getTime());if(a._defaults.maxDateTime!==void 0&&a._defaults.maxDateTime instanceof Date)a._defaults.maxDate=new Date(a._defaults.maxDateTime.getTime());return a},_addTimePicker:function(d){this.timeDefined=this._parseTime(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val());this._limitMinMaxDateTime(d,!1);this._injectTimePicker()},_parseTime:function(d,c){var a=this._defaults.timeFormat.toString().replace(/h{1,2}/ig,
"(\\d?\\d)").replace(/m{1,2}/ig,"(\\d?\\d)").replace(/s{1,2}/ig,"(\\d?\\d)").replace(/l{1}/ig,"(\\d?\\d?\\d)").replace(/t{1,2}/ig,"(am|pm|a|p)?").replace(/z{1}/ig,"(z|[-+]\\d\\d:?\\d\\d)?").replace(/\s/g,"\\s?")+this._defaults.timeSuffix+"$",b=this._getFormatPositions();if(!this.inst)this.inst=e.datepicker._getInst(this.$input[0]);if(c||!this._defaults.timeOnly)a=".{"+e.datepicker._get(this.inst,"dateFormat").length+",}"+this._defaults.separator.replace(RegExp("[.*+?|()\\[\\]{}\\\\]","g"),"\\$&")+
a;if(a=d.match(RegExp(a,"i"))){if(b.t!==-1)this.ampm=(a[b.t]===void 0||a[b.t].length===0?"":a[b.t].charAt(0).toUpperCase()=="A"?"AM":"PM").toUpperCase();if(b.h!==-1)this.hour=this.ampm=="AM"&&a[b.h]=="12"?0:this.ampm=="PM"&&a[b.h]!="12"?(parseFloat(a[b.h])+12).toFixed(0):Number(a[b.h]);if(b.m!==-1)this.minute=Number(a[b.m]);if(b.s!==-1)this.second=Number(a[b.s]);if(b.l!==-1)this.millisec=Number(a[b.l]);if(b.z!==-1&&a[b.z]!==void 0){b=a[b.z].toUpperCase();switch(b.length){case 1:b=this._defaults.timezoneIso8609?
"Z":"+0000";break;case 5:this._defaults.timezoneIso8609&&(b=b.substring(1)=="0000"?"Z":b.substring(0,3)+":"+b.substring(3));break;case 6:this._defaults.timezoneIso8609?b.substring(1)=="00:00"&&(b="Z"):b=b=="Z"||b.substring(1)=="00:00"?"+0000":b.replace(/:/,"")}this.timezone=b}return!0}return!1},_getFormatPositions:function(){var d=this._defaults.timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z)/g),c={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1};if(d)for(var a=0;a<d.length;a++)c[d[a].toString().charAt(0)]==
-1&&(c[d[a].toString().charAt(0)]=a+1);return c},_injectTimePicker:function(){var d=this.inst.dpDiv,c=this._defaults,a=this,b=(c.hourMax-c.hourMax%c.stepHour).toFixed(0),f=(c.minuteMax-c.minuteMax%c.stepMinute).toFixed(0),g=(c.secondMax-c.secondMax%c.stepSecond).toFixed(0),m=(c.millisecMax-c.millisecMax%c.stepMillisec).toFixed(0),i=this.inst.id.toString().replace(/([^A-Za-z0-9_])/g,"");if(d.find("div#ui-timepicker-div-"+i).length===0&&c.showTimepicker){var h='<div class="ui-timepicker-div" id="ui-timepicker-div-'+
i+'"><dl><dt class="ui_tpicker_time_label" id="ui_tpicker_time_label_'+i+'"'+(c.showTime?"":' style="display:none;"')+">"+c.timeText+'</dt><dd class="ui_tpicker_time" id="ui_tpicker_time_'+i+'"'+(c.showTime?"":' style="display:none;"')+'></dd><dt class="ui_tpicker_hour_label" id="ui_tpicker_hour_label_'+i+'"'+(c.showHour?"":' style="display:none;"')+">"+c.hourText+"</dt>",s=0,j=0,n=0,q=0,l;if(c.showHour&&c.hourGrid>0){h+='<dd class="ui_tpicker_hour"><div id="ui_tpicker_hour_'+i+'"'+(c.showHour?"":
' style="display:none;"')+'></div><div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var k=c.hourMin;k<=b;k+=parseInt(c.hourGrid,10)){s++;var o=c.ampm&&k>12?k-12:k;o<10&&(o="0"+o);c.ampm&&(k==0?o="12a":o+=k<12?"a":"p");h+="<td>"+o+"</td>"}h+="</tr></table></div></dd>"}else h+='<dd class="ui_tpicker_hour" id="ui_tpicker_hour_'+i+'"'+(c.showHour?"":' style="display:none;"')+"></dd>";h+='<dt class="ui_tpicker_minute_label" id="ui_tpicker_minute_label_'+i+'"'+(c.showMinute?
"":' style="display:none;"')+">"+c.minuteText+"</dt>";if(c.showMinute&&c.minuteGrid>0){h+='<dd class="ui_tpicker_minute ui_tpicker_minute_'+c.minuteGrid+'"><div id="ui_tpicker_minute_'+i+'"'+(c.showMinute?"":' style="display:none;"')+'></div><div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(k=c.minuteMin;k<=f;k+=parseInt(c.minuteGrid,10))j++,h+="<td>"+(k<10?"0":"")+k+"</td>";h+="</tr></table></div></dd>"}else h+='<dd class="ui_tpicker_minute" id="ui_tpicker_minute_'+i+
'"'+(c.showMinute?"":' style="display:none;"')+"></dd>";h+='<dt class="ui_tpicker_second_label" id="ui_tpicker_second_label_'+i+'"'+(c.showSecond?"":' style="display:none;"')+">"+c.secondText+"</dt>";if(c.showSecond&&c.secondGrid>0){h+='<dd class="ui_tpicker_second ui_tpicker_second_'+c.secondGrid+'"><div id="ui_tpicker_second_'+i+'"'+(c.showSecond?"":' style="display:none;"')+'></div><div style="padding-left: 1px"><table><tr>';for(var p=c.secondMin;p<=g;p+=parseInt(c.secondGrid,10))n++,h+="<td>"+
(p<10?"0":"")+p+"</td>";h+="</tr></table></div></dd>"}else h+='<dd class="ui_tpicker_second" id="ui_tpicker_second_'+i+'"'+(c.showSecond?"":' style="display:none;"')+"></dd>";h+='<dt class="ui_tpicker_millisec_label" id="ui_tpicker_millisec_label_'+i+'"'+(c.showMillisec?"":' style="display:none;"')+">"+c.millisecText+"</dt>";if(c.showMillisec&&c.millisecGrid>0){h+='<dd class="ui_tpicker_millisec ui_tpicker_millisec_'+c.millisecGrid+'"><div id="ui_tpicker_millisec_'+i+'"'+(c.showMillisec?"":' style="display:none;"')+
'></div><div style="padding-left: 1px"><table><tr>';for(k=c.millisecMin;k<=m;k+=parseInt(c.millisecGrid,10))q++,h+="<td>"+(k<10?"0":"")+p+"</td>";h+="</tr></table></div></dd>"}else h+='<dd class="ui_tpicker_millisec" id="ui_tpicker_millisec_'+i+'"'+(c.showMillisec?"":' style="display:none;"')+"></dd>";h+='<dt class="ui_tpicker_timezone_label" id="ui_tpicker_timezone_label_'+i+'"'+(c.showTimezone?"":' style="display:none;"')+">"+c.timezoneText+"</dt>";h+='<dd class="ui_tpicker_timezone" id="ui_tpicker_timezone_'+
i+'"'+(c.showTimezone?"":' style="display:none;"')+"></dd>";h+="</dl></div>";$tp=e(h);c.timeOnly===!0&&($tp.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+c.timeOnlyTitle+"</div></div>"),d.find(".ui-datepicker-header, .ui-datepicker-calendar").hide());this.hour_slider=$tp.find("#ui_tpicker_hour_"+i).slider({orientation:"horizontal",value:this.hour,min:c.hourMin,max:b,step:c.stepHour,slide:function(b,c){a.hour_slider.slider("option","value",
c.value);a._onTimeChange()}});this.minute_slider=$tp.find("#ui_tpicker_minute_"+i).slider({orientation:"horizontal",value:this.minute,min:c.minuteMin,max:f,step:c.stepMinute,slide:function(b,c){a.minute_slider.slider("option","value",c.value);a._onTimeChange()}});this.second_slider=$tp.find("#ui_tpicker_second_"+i).slider({orientation:"horizontal",value:this.second,min:c.secondMin,max:g,step:c.stepSecond,slide:function(b,c){a.second_slider.slider("option","value",c.value);a._onTimeChange()}});this.millisec_slider=
$tp.find("#ui_tpicker_millisec_"+i).slider({orientation:"horizontal",value:this.millisec,min:c.millisecMin,max:m,step:c.stepMillisec,slide:function(b,c){a.millisec_slider.slider("option","value",c.value);a._onTimeChange()}});this.timezone_select=$tp.find("#ui_tpicker_timezone_"+i).append("<select></select>").find("select");e.fn.append.apply(this.timezone_select,e.map(c.timezoneList,function(a){return e("<option />").val(typeof a=="object"?a.value:a).text(typeof a=="object"?a.label:a)}));this.timezone_select.val(typeof this.timezone!=
"undefined"&&this.timezone!=null&&this.timezone!=""?this.timezone:c.timezone);this.timezone_select.change(function(){a._onTimeChange()});c.showHour&&c.hourGrid>0&&(l=100*s*c.hourGrid/(b-c.hourMin),$tp.find(".ui_tpicker_hour table").css({width:l+"%",marginLeft:l/(-2*s)+"%",borderCollapse:"collapse"}).find("td").each(function(){e(this).click(function(){var b=e(this).html();if(c.ampm)var d=b.substring(2).toLowerCase(),b=parseInt(b.substring(0,2),10),b=d=="a"?b==12?0:b:b==12?12:b+12;a.hour_slider.slider("option",
"value",b);a._onTimeChange();a._onSelectHandler()}).css({cursor:"pointer",width:100/s+"%",textAlign:"center",overflow:"hidden"})}));c.showMinute&&c.minuteGrid>0&&(l=100*j*c.minuteGrid/(f-c.minuteMin),$tp.find(".ui_tpicker_minute table").css({width:l+"%",marginLeft:l/(-2*j)+"%",borderCollapse:"collapse"}).find("td").each(function(){e(this).click(function(){a.minute_slider.slider("option","value",e(this).html());a._onTimeChange();a._onSelectHandler()}).css({cursor:"pointer",width:100/j+"%",textAlign:"center",
overflow:"hidden"})}));c.showSecond&&c.secondGrid>0&&$tp.find(".ui_tpicker_second table").css({width:l+"%",marginLeft:l/(-2*n)+"%",borderCollapse:"collapse"}).find("td").each(function(){e(this).click(function(){a.second_slider.slider("option","value",e(this).html());a._onTimeChange();a._onSelectHandler()}).css({cursor:"pointer",width:100/n+"%",textAlign:"center",overflow:"hidden"})});c.showMillisec&&c.millisecGrid>0&&$tp.find(".ui_tpicker_millisec table").css({width:l+"%",marginLeft:l/(-2*q)+"%",
borderCollapse:"collapse"}).find("td").each(function(){e(this).click(function(){a.millisec_slider.slider("option","value",e(this).html());a._onTimeChange();a._onSelectHandler()}).css({cursor:"pointer",width:100/q+"%",textAlign:"center",overflow:"hidden"})});b=d.find(".ui-datepicker-buttonpane");b.length?b.before($tp):d.append($tp);this.$timeObj=$tp.find("#ui_tpicker_time_"+i);if(this.inst!==null)d=this.timeDefined,this._onTimeChange(),this.timeDefined=d;d=function(){a._onSelectHandler()};this.hour_slider.bind("slidestop",
d);this.minute_slider.bind("slidestop",d);this.second_slider.bind("slidestop",d);this.millisec_slider.bind("slidestop",d)}},_limitMinMaxDateTime:function(d,c){var a=this._defaults,b=new Date(d.selectedYear,d.selectedMonth,d.selectedDay);if(this._defaults.showTimepicker){if(e.datepicker._get(d,"minDateTime")!==null&&e.datepicker._get(d,"minDateTime")!==void 0&&b){var f=e.datepicker._get(d,"minDateTime"),g=new Date(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0,0);if(this.hourMinOriginal===null||this.minuteMinOriginal===
null||this.secondMinOriginal===null||this.millisecMinOriginal===null)this.hourMinOriginal=a.hourMin,this.minuteMinOriginal=a.minuteMin,this.secondMinOriginal=a.secondMin,this.millisecMinOriginal=a.millisecMin;if(d.settings.timeOnly||g.getTime()==b.getTime())if(this._defaults.hourMin=f.getHours(),this.hour<=this._defaults.hourMin)if(this.hour=this._defaults.hourMin,this._defaults.minuteMin=f.getMinutes(),this.minute<=this._defaults.minuteMin)this.minute=this._defaults.minuteMin,this._defaults.secondMin=
f.getSeconds();else if(this.second<=this._defaults.secondMin)this.second=this._defaults.secondMin,this._defaults.millisecMin=f.getMilliseconds();else{if(this.millisec<this._defaults.millisecMin)this.millisec=this._defaults.millisecMin;this._defaults.millisecMin=this.millisecMinOriginal}else this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal;else this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=
this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal}if(e.datepicker._get(d,"maxDateTime")!==null&&e.datepicker._get(d,"maxDateTime")!==void 0&&b){f=e.datepicker._get(d,"maxDateTime");g=new Date(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0,0);if(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null)this.hourMaxOriginal=a.hourMax,this.minuteMaxOriginal=a.minuteMax,this.secondMaxOriginal=a.secondMax,
this.millisecMaxOriginal=a.millisecMax;if(d.settings.timeOnly||g.getTime()==b.getTime())if(this._defaults.hourMax=f.getHours(),this.hour>=this._defaults.hourMax)if(this.hour=this._defaults.hourMax,this._defaults.minuteMax=f.getMinutes(),this.minute>=this._defaults.minuteMax)this.minute=this._defaults.minuteMax,this._defaults.secondMax=f.getSeconds();else if(this.second>=this._defaults.secondMax)this.second=this._defaults.secondMax,this._defaults.millisecMax=f.getMilliseconds();else{if(this.millisec>
this._defaults.millisecMax)this.millisec=this._defaults.millisecMax;this._defaults.millisecMax=this.millisecMaxOriginal}else this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal;else this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal}c!==void 0&&c===!0&&(a=(this._defaults.hourMax-
this._defaults.hourMax%this._defaults.stepHour).toFixed(0),b=(this._defaults.minuteMax-this._defaults.minuteMax%this._defaults.stepMinute).toFixed(0),f=(this._defaults.secondMax-this._defaults.secondMax%this._defaults.stepSecond).toFixed(0),g=(this._defaults.millisecMax-this._defaults.millisecMax%this._defaults.stepMillisec).toFixed(0),this.hour_slider&&this.hour_slider.slider("option",{min:this._defaults.hourMin,max:a}).slider("value",this.hour),this.minute_slider&&this.minute_slider.slider("option",
{min:this._defaults.minuteMin,max:b}).slider("value",this.minute),this.second_slider&&this.second_slider.slider("option",{min:this._defaults.secondMin,max:f}).slider("value",this.second),this.millisec_slider&&this.millisec_slider.slider("option",{min:this._defaults.millisecMin,max:g}).slider("value",this.millisec))}},_onTimeChange:function(){var d=this.hour_slider?this.hour_slider.slider("value"):!1,c=this.minute_slider?this.minute_slider.slider("value"):!1,a=this.second_slider?this.second_slider.slider("value"):
!1,b=this.millisec_slider?this.millisec_slider.slider("value"):!1,f=this.timezone_select?this.timezone_select.val():!1;typeof d=="object"&&(d=!1);typeof c=="object"&&(c=!1);typeof a=="object"&&(a=!1);typeof b=="object"&&(b=!1);typeof f=="object"&&(f=!1);d!==!1&&(d=parseInt(d,10));c!==!1&&(c=parseInt(c,10));a!==!1&&(a=parseInt(a,10));b!==!1&&(b=parseInt(b,10));var g=d<12?"AM":"PM",m=d!=this.hour||c!=this.minute||a!=this.second||b!=this.millisec||this.ampm.length>0&&this.ampm!=g||f!=this.timezone;if(m){if(d!==
!1)this.hour=d;if(c!==!1)this.minute=c;if(a!==!1)this.second=a;if(b!==!1)this.millisec=b;if(f!==!1)this.timezone=f;if(!this.inst)this.inst=e.datepicker._getInst(this.$input[0]);this._limitMinMaxDateTime(this.inst,!0)}if(this._defaults.ampm)this.ampm=g;this._formatTime();this.$timeObj&&this.$timeObj.text(this.formattedTime+this._defaults.timeSuffix);this.timeDefined=!0;m&&this._updateDateTime()},_onSelectHandler:function(){var d=this._defaults.onSelect,c=this.$input?this.$input[0]:null;d&&c&&d.apply(c,
[this.formattedDateTime,this])},_formatTime:function(d,c,a){if(a==void 0)a=this._defaults.ampm;var d=d||{hour:this.hour,minute:this.minute,second:this.second,millisec:this.millisec,ampm:this.ampm,timezone:this.timezone},b=c||this._defaults.timeFormat.toString();if(a)var f=d.ampm=="AM"?d.hour:d.hour%12,f=Number(f)===0?12:f,b=b.toString().replace(/hh/g,(f<10?"0":"")+f).replace(/h/g,f).replace(/mm/g,(d.minute<10?"0":"")+d.minute).replace(/m/g,d.minute).replace(/ss/g,(d.second<10?"0":"")+d.second).replace(/s/g,
d.second).replace(/l/g,(d.millisec<10?"00":d.millisec<100?"0":"")+d.millisec).replace(/TT/g,d.ampm.toUpperCase()).replace(/Tt/g,d.ampm.toUpperCase()).replace(/tT/g,d.ampm.toLowerCase()).replace(/tt/g,d.ampm.toLowerCase()).replace(/T/g,d.ampm.charAt(0).toUpperCase()).replace(/t/g,d.ampm.charAt(0).toLowerCase()).replace(/z/g,d.timezone);else b=b.toString().replace(/hh/g,(d.hour<10?"0":"")+d.hour).replace(/h/g,d.hour).replace(/mm/g,(d.minute<10?"0":"")+d.minute).replace(/m/g,d.minute).replace(/ss/g,
(d.second<10?"0":"")+d.second).replace(/s/g,d.second).replace(/l/g,(d.millisec<10?"00":d.millisec<100?"0":"")+d.millisec).replace(/z/g,d.timezone),b=e.trim(b.replace(/t/gi,""));if(arguments.length)return b;else this.formattedTime=b},_updateDateTime:function(d){d=this.inst||d;dt=new Date(d.selectedYear,d.selectedMonth,d.selectedDay);dateFmt=e.datepicker._get(d,"dateFormat");formatCfg=e.datepicker._getFormatConfig(d);timeAvailable=dt!==null&&this.timeDefined;var c=this.formattedDate=e.datepicker.formatDate(dateFmt,
dt===null?new Date:dt,formatCfg);if(!(d.lastVal!==void 0&&d.lastVal.length>0&&this.$input.val().length===0)){if(this._defaults.timeOnly===!0)c=this.formattedTime;else if(this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||timeAvailable))c+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix;this.formattedDateTime=c;this._defaults.showTimepicker?this.$altInput&&this._defaults.altFieldTimeOnly===!0?(this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate)):
(this.$altInput&&this.$altInput.val(c),this.$input.val(c)):this.$input.val(this.formattedDate);this.$input.trigger("change")}}});e.fn.extend({timepicker:function(d){var d=d||{},c=arguments;typeof d=="object"&&(c[0]=e.extend(d,{timeOnly:!0}));return e(this).each(function(){e.fn.datetimepicker.apply(e(this),c)})},datetimepicker:function(d){var d=d||{},c=arguments;return typeof d=="string"?d=="getDate"?e.fn.datepicker.apply(e(this[0]),c):this.each(function(){var a=e(this);a.datepicker.apply(a,c)}):this.each(function(){var a=
e(this);a.datepicker(e.timepicker._newInst(a,d)._defaults)})}});e.datepicker._base_selectDate=e.datepicker._selectDate;e.datepicker._selectDate=function(d,c){var a=this._getInst(e(d)[0]),b=this._get(a,"timepicker");b?(b._limitMinMaxDateTime(a,!0),a.inline=a.stay_open=!0,this._base_selectDate(d,c),a.inline=a.stay_open=!1,this._notifyChange(a),this._updateDatepicker(a)):this._base_selectDate(d,c)};e.datepicker._base_updateDatepicker=e.datepicker._updateDatepicker;e.datepicker._updateDatepicker=function(d){var c=
d.input[0];if(!e.datepicker._curInst||!(e.datepicker._curInst!=d&&e.datepicker._datepickerShowing&&e.datepicker._lastInput!=c))if(typeof d.stay_open!=="boolean"||d.stay_open===!1)this._base_updateDatepicker(d),(c=this._get(d,"timepicker"))&&c._addTimePicker(d)};e.datepicker._base_doKeyPress=e.datepicker._doKeyPress;e.datepicker._doKeyPress=function(d){var c=e.datepicker._getInst(d.target),a=e.datepicker._get(c,"timepicker");if(a&&e.datepicker._get(c,"constrainInput")){var b=a._defaults.ampm,c=e.datepicker._possibleChars(e.datepicker._get(c,
"dateFormat")),a=a._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,b?"APM":"").replace(/Tt/g,b?"AaPpMm":"").replace(/tT/g,b?"AaPpMm":"").replace(/T/g,b?"AP":"").replace(/tt/g,b?"apm":"").replace(/t/g,b?"ap":"")+" "+a._defaults.separator+a._defaults.timeSuffix+(a._defaults.showTimezone?a._defaults.timezoneList.join(""):"")+c,b=String.fromCharCode(d.charCode===void 0?d.keyCode:d.charCode);return d.ctrlKey||b<" "||!c||a.indexOf(b)>-1}return e.datepicker._base_doKeyPress(d)};e.datepicker._base_doKeyUp=
e.datepicker._doKeyUp;e.datepicker._doKeyUp=function(d){var c=e.datepicker._getInst(d.target),a=e.datepicker._get(c,"timepicker");if(a&&a._defaults.timeOnly&&c.input.val()!=c.lastVal)try{e.datepicker._updateDatepicker(c)}catch(b){e.datepicker.log(b)}return e.datepicker._base_doKeyUp(d)};e.datepicker._base_gotoToday=e.datepicker._gotoToday;e.datepicker._gotoToday=function(d){var c=this._getInst(e(d)[0]),a=c.dpDiv;this._base_gotoToday(d);var d=new Date,b=this._get(c,"timepicker");if(b._defaults.showTimezone&&
b.timezone_select){var f=d.getTimezoneOffset(),g=f>0?"-":"+",f=Math.abs(f),m=f%60,f=g+("0"+(f-m)/60).slice(-2)+("0"+m).slice(-2);b._defaults.timezoneIso8609&&(f=f.substring(0,3)+":"+f.substring(3));b.timezone_select.val(f)}this._setTime(c,d);e(".ui-datepicker-today",a).click()};e.datepicker._disableTimepickerDatepicker=function(d){var c=this._getInst(d),a=this._get(c,"timepicker");e(d).datepicker("getDate");if(a)a._defaults.showTimepicker=!1,a._updateDateTime(c)};e.datepicker._enableTimepickerDatepicker=
function(d){var c=this._getInst(d),a=this._get(c,"timepicker");e(d).datepicker("getDate");if(a)a._defaults.showTimepicker=!0,a._addTimePicker(c),a._updateDateTime(c)};e.datepicker._setTime=function(d,c){var a=this._get(d,"timepicker");if(a){var b=a._defaults,f=c?c.getHours():b.hour,e=c?c.getMinutes():b.minute,g=c?c.getSeconds():b.second,i=c?c.getMilliseconds():b.millisec;if(f<b.hourMin||f>b.hourMax||e<b.minuteMin||e>b.minuteMax||g<b.secondMin||g>b.secondMax||i<b.millisecMin||i>b.millisecMax)f=b.hourMin,
e=b.minuteMin,g=b.secondMin,i=b.millisecMin;a.hour=f;a.minute=e;a.second=g;a.millisec=i;a.hour_slider&&a.hour_slider.slider("value",f);a.minute_slider&&a.minute_slider.slider("value",e);a.second_slider&&a.second_slider.slider("value",g);a.millisec_slider&&a.millisec_slider.slider("value",i);a._onTimeChange();a._updateDateTime(d)}};e.datepicker._setTimeDatepicker=function(d,c,a){var d=this._getInst(d),b=this._get(d,"timepicker");b&&(this._setDateFromField(d),c&&(typeof c=="string"?(b._parseTime(c,
a),c=new Date,c.setHours(b.hour,b.minute,b.second,b.millisec)):c=new Date(c.getTime()),c.toString()=="Invalid Date"&&(c=void 0),this._setTime(d,c)))};e.datepicker._base_setDateDatepicker=e.datepicker._setDateDatepicker;e.datepicker._setDateDatepicker=function(d,c){var a=this._getInst(d),b=c instanceof Date?new Date(c.getTime()):c;this._updateDatepicker(a);this._base_setDateDatepicker.apply(this,arguments);this._setTimeDatepicker(d,b,!0)};e.datepicker._base_getDateDatepicker=e.datepicker._getDateDatepicker;
e.datepicker._getDateDatepicker=function(d,c){var a=this._getInst(d),b=this._get(a,"timepicker");return b?(this._setDateFromField(a,c),(a=this._getDate(a))&&b._parseTime(e(d).val(),b.timeOnly)&&a.setHours(b.hour,b.minute,b.second,b.millisec),a):this._base_getDateDatepicker(d,c)};e.datepicker._base_parseDate=e.datepicker.parseDate;e.datepicker.parseDate=function(d,c,a){var b;try{b=this._base_parseDate(d,c,a)}catch(e){b=this._base_parseDate(d,c.substring(0,c.length-(e.length-e.indexOf(":")-2)),a)}return b};
e.datepicker._base_formatDate=e.datepicker._formatDate;e.datepicker._formatDate=function(d,c,a,b){var e=this._get(d,"timepicker");return e?(c&&this._base_formatDate(d,c,a,b),e._updateDateTime(),e.$input.val()):this._base_formatDate(d)};e.datepicker._base_optionDatepicker=e.datepicker._optionDatepicker;e.datepicker._optionDatepicker=function(d,c,a){var b=this._get(this._getInst(d),"timepicker");if(b){var e,g,m;if(typeof c=="string")c==="minDate"||c==="minDateTime"?e=a:c==="maxDate"||c==="maxDateTime"?
g=a:c==="onSelect"&&(m=a);else if(typeof c=="object")if(c.minDate)e=c.minDate;else if(c.minDateTime)e=c.minDateTime;else if(c.maxDate)g=c.maxDate;else if(c.maxDateTime)g=c.maxDateTime;if(e)e=e==0?new Date:new Date(e),b._defaults.minDate=e,b._defaults.minDateTime=e;else if(g)g=g==0?new Date:new Date(g),b._defaults.maxDate=g,b._defaults.maxDateTime=g;else if(m)b._defaults.onSelect=m}this._base_optionDatepicker(d,c,a)};e.timepicker=new g;e.timepicker.version="0.9.7"})(jQuery);
(function(e){e.fn.extend({elastic:function(){var g="paddingTop,paddingRight,paddingBottom,paddingLeft,fontSize,lineHeight,fontFamily,width,fontWeight,border-top-width,border-right-width,border-bottom-width,border-left-width,borderTopStyle,borderTopColor,borderRightStyle,borderRightColor,borderBottomStyle,borderBottomColor,borderLeftStyle,borderLeftColor".split(",");return this.each(function(){function d(){curatedWidth=Math.floor(parseInt(b.width(),10));f.width()!==curatedWidth&&(f.css({width:curatedWidth+
"px"}),a(!0))}function c(a,c){var d=Math.floor(parseInt(a,10));b.height()!==d&&(b.css({height:d+"px",overflow:c}),b.trigger("resize"))}function a(a){var d=b.val().replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />"),e=f.html().replace(/<br>/ig,"<br />");if(a||d+"&nbsp;"!==e)f.html(d+"&nbsp;"),Math.abs(f.height()+r-b.height())>3&&(a=f.height()+r,a>=i?c(i,"auto"):a<=m?c(m,"hidden"):c(a,"hidden"))}if(this.type!=="textarea")return!1;var b=e(this),f=e("<div />").css({position:"absolute",
display:"none","word-wrap":"break-word"}),r=parseInt(b.css("line-height"),10)||parseInt(b.css("font-size"),"10"),m=parseInt(b.css("height"),10)||r*3,i=parseInt(b.css("max-height"),10)||Number.MAX_VALUE;if(i<0)i=Number.MAX_VALUE;f.appendTo(b.parent());for(var h=g.length;h--;)f.css(g[h].toString(),b.css(g[h].toString()));b.css({overflow:"hidden"});b.bind("keyup change cut paste",function(){a()});$(window).bind("resize",d);b.bind("resize",d);b.bind("update",a);b.bind("blur",function(){f.height()<i&&
(f.height()>m?b.height(f.height()):b.height(m))});b.bind("input paste",function(){setTimeout(a,250)});a()})}})})(jQuery);
