(function(e){e.cfc={}})(jQuery);(function(e){e.wait=function(g){var f=e.Deferred();setTimeout(function(){f.resolve()},g);return f}})(jQuery);
(function(e){function g(){var a;a=e(this);if(!a.data("timeago")){a.data("timeago",{datetime:d.datetime(a)});var b=e.trim(a.text());b.length>0&&a.attr("title",b)}a=a.data("timeago");isNaN(a.datetime)||e(this).text(f(a.datetime));return this}function f(a){return d.inWords((new Date).getTime()-a.getTime())}e.timeago=function(a){return a instanceof Date?f(a):typeof a==="string"?f(e.timeago.parse(a)):f(e.timeago.datetime(a))};var d=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6E4,allowFuture:!1,
strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[]}},inWords:function(a){function b(b,d){return(e.isFunction(b)?b(d,a):b).replace(/%d/i,c.numbers&&c.numbers[d]||d)}var c=this.settings.strings,d=c.prefixAgo,f=c.suffixAgo;if(this.settings.allowFuture){if(a<
0)d=c.prefixFromNow,f=c.suffixFromNow;a=Math.abs(a)}var h=a/1E3,i=h/60,g=i/60,l=g/24,o=l/365,h=h<45&&b(c.seconds,Math.round(h))||h<90&&b(c.minute,1)||i<45&&b(c.minutes,Math.round(i))||i<90&&b(c.hour,1)||g<24&&b(c.hours,Math.round(g))||g<48&&b(c.day,1)||l<30&&b(c.days,Math.floor(l))||l<60&&b(c.month,1)||l<365&&b(c.months,Math.floor(l/30))||o<2&&b(c.year,1)||b(c.years,Math.floor(o));return e.trim([d,h,f].join(" "))},parse:function(a){a=e.trim(a);a=a.replace(/\.\d\d\d+/,"");a=a.replace(/-/,"/").replace(/-/,
"/");a=a.replace(/T/," ").replace(/Z/," UTC");a=a.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");return new Date(a)},datetime:function(a){a=e(a).get(0).tagName.toLowerCase()==="time"?e(a).attr("datetime"):e(a).attr("title");return d.parse(a)}});e.fn.timeago=function(){var a=this;a.each(g);var b=d.settings;b.refreshMillis>0&&setInterval(function(){a.each(g)},b.refreshMillis);return a};document.createElement("abbr");document.createElement("time")})(jQuery);
jQuery.cookie=function(e,g,f){if(arguments.length>1&&(g===null||typeof g!=="object")){f=jQuery.extend({},f);if(g===null)f.expires=-1;if(typeof f.expires==="number"){var d=f.expires,a=f.expires=new Date;a.setDate(a.getDate()+d)}return document.cookie=[encodeURIComponent(e),"=",f.raw?String(g):encodeURIComponent(String(g)),f.expires?"; expires="+f.expires.toUTCString():"",f.path?"; path="+f.path:"",f.domain?"; domain="+f.domain:"",f.secure?"; secure":""].join("")}f=g||{};a=f.raw?function(a){return a}:
decodeURIComponent;return(d=RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?a(d[1]):null};
(function(e){function g(){this.regional=[];this.regional[""]={currentText:"Now",closeText:"Done",ampm:!1,timeFormat:"hh:mm tt",timeSuffix:"",timeOnlyTitle:"Choose Time",timeText:"Time",hourText:"Hour",minuteText:"Minute",secondText:"Second",millisecText:"Millisecond",timezoneText:"Time Zone"};this._defaults={showButtonPanel:!0,timeOnly:!1,showHour:!0,showMinute:!0,showSecond:!1,showMillisec:!1,showTimezone:!1,showTime:!0,stepHour:0.05,stepMinute:0.05,stepSecond:0.05,stepMillisec:0.5,hour:0,minute:0,
second:0,millisec:0,timezone:"+0000",hourMin:0,minuteMin:0,secondMin:0,millisecMin:0,hourMax:23,minuteMax:59,secondMax:59,millisecMax:999,minDateTime:null,maxDateTime:null,onSelect:null,hourGrid:0,minuteGrid:0,secondGrid:0,millisecGrid:0,alwaysSetTime:!0,separator:" ",altFieldTimeOnly:!0,showTimepicker:!0,timezoneIso8609:!1,timezoneList:null};e.extend(this._defaults,this.regional[""])}e.extend(e.ui,{timepicker:{version:"0.9.7"}});e.extend(g.prototype,{$input:null,$altInput:null,$timeObj:null,inst:null,
hour_slider:null,minute_slider:null,second_slider:null,millisec_slider:null,timezone_select:null,hour:0,minute:0,second:0,millisec:0,timezone:"+0000",hourMinOriginal:null,minuteMinOriginal:null,secondMinOriginal:null,millisecMinOriginal:null,hourMaxOriginal:null,minuteMaxOriginal:null,secondMaxOriginal:null,millisecMaxOriginal:null,ampm:"",formattedDate:"",formattedTime:"",formattedDateTime:"",timezoneList:null,setDefaults:function(f){var d=this._defaults,f=f||{};e.extend(d,f);for(var a in f)if(f[a]===
null||f[a]===void 0)d[a]=f[a];return this},_newInst:function(f,d){var a=new g,b={},c;for(c in this._defaults){var k=f.attr("time:"+c);if(k)try{b[c]=eval(k)}catch(j){b[c]=k}}a._defaults=e.extend({},this._defaults,b,d,{beforeShow:function(c,b){e.isFunction(d.beforeShow)&&d.beforeShow(c,b,a)},onChangeMonthYear:function(c,b,k){a._updateDateTime(k);e.isFunction(d.onChangeMonthYear)&&d.onChangeMonthYear.call(f[0],c,b,k,a)},onClose:function(c,b){a.timeDefined===!0&&f.val()!=""&&a._updateDateTime(b);e.isFunction(d.onClose)&&
d.onClose.call(f[0],c,b,a)},timepicker:a});if(a._defaults.timezoneList===null){b=[];for(c=-11;c<=12;c++)b.push((c>=0?"+":"-")+("0"+Math.abs(c).toString()).slice(-2)+"00");a._defaults.timezoneIso8609&&(b=e.map(b,function(c){return c=="+0000"?"Z":c.substring(0,3)+":"+c.substring(3)}));a._defaults.timezoneList=b}a.hour=a._defaults.hour;a.minute=a._defaults.minute;a.second=a._defaults.second;a.millisec=a._defaults.millisec;a.ampm="";a.$input=f;if(d.altField)a.$altInput=e(d.altField).css({cursor:"pointer"}).focus(function(){f.trigger("focus")});
if(a._defaults.minDate==0||a._defaults.minDateTime==0)a._defaults.minDate=new Date;if(a._defaults.maxDate==0||a._defaults.maxDateTime==0)a._defaults.maxDate=new Date;if(a._defaults.minDate!==void 0&&a._defaults.minDate instanceof Date)a._defaults.minDateTime=new Date(a._defaults.minDate.getTime());if(a._defaults.minDateTime!==void 0&&a._defaults.minDateTime instanceof Date)a._defaults.minDate=new Date(a._defaults.minDateTime.getTime());if(a._defaults.maxDate!==void 0&&a._defaults.maxDate instanceof
Date)a._defaults.maxDateTime=new Date(a._defaults.maxDate.getTime());if(a._defaults.maxDateTime!==void 0&&a._defaults.maxDateTime instanceof Date)a._defaults.maxDate=new Date(a._defaults.maxDateTime.getTime());return a},_addTimePicker:function(f){this.timeDefined=this._parseTime(this.$altInput&&this._defaults.altFieldTimeOnly?this.$input.val()+" "+this.$altInput.val():this.$input.val());this._limitMinMaxDateTime(f,!1);this._injectTimePicker()},_parseTime:function(f,d){var a=this._defaults.timeFormat.toString().replace(/h{1,2}/ig,
"(\\d?\\d)").replace(/m{1,2}/ig,"(\\d?\\d)").replace(/s{1,2}/ig,"(\\d?\\d)").replace(/l{1}/ig,"(\\d?\\d?\\d)").replace(/t{1,2}/ig,"(am|pm|a|p)?").replace(/z{1}/ig,"(z|[-+]\\d\\d:?\\d\\d)?").replace(/\s/g,"\\s?")+this._defaults.timeSuffix+"$",b=this._getFormatPositions();if(!this.inst)this.inst=e.datepicker._getInst(this.$input[0]);if(d||!this._defaults.timeOnly)a=".{"+e.datepicker._get(this.inst,"dateFormat").length+",}"+this._defaults.separator.replace(RegExp("[.*+?|()\\[\\]{}\\\\]","g"),"\\$&")+
a;if(a=f.match(RegExp(a,"i"))){if(b.t!==-1)this.ampm=(a[b.t]===void 0||a[b.t].length===0?"":a[b.t].charAt(0).toUpperCase()=="A"?"AM":"PM").toUpperCase();if(b.h!==-1)this.hour=this.ampm=="AM"&&a[b.h]=="12"?0:this.ampm=="PM"&&a[b.h]!="12"?(parseFloat(a[b.h])+12).toFixed(0):Number(a[b.h]);if(b.m!==-1)this.minute=Number(a[b.m]);if(b.s!==-1)this.second=Number(a[b.s]);if(b.l!==-1)this.millisec=Number(a[b.l]);if(b.z!==-1&&a[b.z]!==void 0){b=a[b.z].toUpperCase();switch(b.length){case 1:b=this._defaults.timezoneIso8609?
"Z":"+0000";break;case 5:this._defaults.timezoneIso8609&&(b=b.substring(1)=="0000"?"Z":b.substring(0,3)+":"+b.substring(3));break;case 6:this._defaults.timezoneIso8609?b.substring(1)=="00:00"&&(b="Z"):b=b=="Z"||b.substring(1)=="00:00"?"+0000":b.replace(/:/,"")}this.timezone=b}return!0}return!1},_getFormatPositions:function(){var f=this._defaults.timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|t{1,2}|z)/g),d={h:-1,m:-1,s:-1,l:-1,t:-1,z:-1};if(f)for(var a=0;a<f.length;a++)d[f[a].toString().charAt(0)]==
-1&&(d[f[a].toString().charAt(0)]=a+1);return d},_injectTimePicker:function(){var f=this.inst.dpDiv,d=this._defaults,a=this,b=(d.hourMax-d.hourMax%d.stepHour).toFixed(0),c=(d.minuteMax-d.minuteMax%d.stepMinute).toFixed(0),k=(d.secondMax-d.secondMax%d.stepSecond).toFixed(0),j=(d.millisecMax-d.millisecMax%d.stepMillisec).toFixed(0),h=this.inst.id.toString().replace(/([^A-Za-z0-9_])/g,"");if(f.find("div#ui-timepicker-div-"+h).length===0&&d.showTimepicker){var i='<div class="ui-timepicker-div" id="ui-timepicker-div-'+
h+'"><dl><dt class="ui_tpicker_time_label" id="ui_tpicker_time_label_'+h+'"'+(d.showTime?"":' style="display:none;"')+">"+d.timeText+'</dt><dd class="ui_tpicker_time" id="ui_tpicker_time_'+h+'"'+(d.showTime?"":' style="display:none;"')+'></dd><dt class="ui_tpicker_hour_label" id="ui_tpicker_hour_label_'+h+'"'+(d.showHour?"":' style="display:none;"')+">"+d.hourText+"</dt>",g=0,l=0,o=0,r=0,n;if(d.showHour&&d.hourGrid>0){i+='<dd class="ui_tpicker_hour"><div id="ui_tpicker_hour_'+h+'"'+(d.showHour?"":
' style="display:none;"')+'></div><div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(var m=d.hourMin;m<=b;m+=parseInt(d.hourGrid,10)){g++;var p=d.ampm&&m>12?m-12:m;p<10&&(p="0"+p);d.ampm&&(m==0?p="12a":p+=m<12?"a":"p");i+="<td>"+p+"</td>"}i+="</tr></table></div></dd>"}else i+='<dd class="ui_tpicker_hour" id="ui_tpicker_hour_'+h+'"'+(d.showHour?"":' style="display:none;"')+"></dd>";i+='<dt class="ui_tpicker_minute_label" id="ui_tpicker_minute_label_'+h+'"'+(d.showMinute?
"":' style="display:none;"')+">"+d.minuteText+"</dt>";if(d.showMinute&&d.minuteGrid>0){i+='<dd class="ui_tpicker_minute ui_tpicker_minute_'+d.minuteGrid+'"><div id="ui_tpicker_minute_'+h+'"'+(d.showMinute?"":' style="display:none;"')+'></div><div style="padding-left: 1px"><table class="ui-tpicker-grid-label"><tr>';for(m=d.minuteMin;m<=c;m+=parseInt(d.minuteGrid,10))l++,i+="<td>"+(m<10?"0":"")+m+"</td>";i+="</tr></table></div></dd>"}else i+='<dd class="ui_tpicker_minute" id="ui_tpicker_minute_'+h+
'"'+(d.showMinute?"":' style="display:none;"')+"></dd>";i+='<dt class="ui_tpicker_second_label" id="ui_tpicker_second_label_'+h+'"'+(d.showSecond?"":' style="display:none;"')+">"+d.secondText+"</dt>";if(d.showSecond&&d.secondGrid>0){i+='<dd class="ui_tpicker_second ui_tpicker_second_'+d.secondGrid+'"><div id="ui_tpicker_second_'+h+'"'+(d.showSecond?"":' style="display:none;"')+'></div><div style="padding-left: 1px"><table><tr>';for(var q=d.secondMin;q<=k;q+=parseInt(d.secondGrid,10))o++,i+="<td>"+
(q<10?"0":"")+q+"</td>";i+="</tr></table></div></dd>"}else i+='<dd class="ui_tpicker_second" id="ui_tpicker_second_'+h+'"'+(d.showSecond?"":' style="display:none;"')+"></dd>";i+='<dt class="ui_tpicker_millisec_label" id="ui_tpicker_millisec_label_'+h+'"'+(d.showMillisec?"":' style="display:none;"')+">"+d.millisecText+"</dt>";if(d.showMillisec&&d.millisecGrid>0){i+='<dd class="ui_tpicker_millisec ui_tpicker_millisec_'+d.millisecGrid+'"><div id="ui_tpicker_millisec_'+h+'"'+(d.showMillisec?"":' style="display:none;"')+
'></div><div style="padding-left: 1px"><table><tr>';for(m=d.millisecMin;m<=j;m+=parseInt(d.millisecGrid,10))r++,i+="<td>"+(m<10?"0":"")+q+"</td>";i+="</tr></table></div></dd>"}else i+='<dd class="ui_tpicker_millisec" id="ui_tpicker_millisec_'+h+'"'+(d.showMillisec?"":' style="display:none;"')+"></dd>";i+='<dt class="ui_tpicker_timezone_label" id="ui_tpicker_timezone_label_'+h+'"'+(d.showTimezone?"":' style="display:none;"')+">"+d.timezoneText+"</dt>";i+='<dd class="ui_tpicker_timezone" id="ui_tpicker_timezone_'+
h+'"'+(d.showTimezone?"":' style="display:none;"')+"></dd>";i+="</dl></div>";$tp=e(i);d.timeOnly===!0&&($tp.prepend('<div class="ui-widget-header ui-helper-clearfix ui-corner-all"><div class="ui-datepicker-title">'+d.timeOnlyTitle+"</div></div>"),f.find(".ui-datepicker-header, .ui-datepicker-calendar").hide());this.hour_slider=$tp.find("#ui_tpicker_hour_"+h).slider({orientation:"horizontal",value:this.hour,min:d.hourMin,max:b,step:d.stepHour,slide:function(c,b){a.hour_slider.slider("option","value",
b.value);a._onTimeChange()}});this.minute_slider=$tp.find("#ui_tpicker_minute_"+h).slider({orientation:"horizontal",value:this.minute,min:d.minuteMin,max:c,step:d.stepMinute,slide:function(c,b){a.minute_slider.slider("option","value",b.value);a._onTimeChange()}});this.second_slider=$tp.find("#ui_tpicker_second_"+h).slider({orientation:"horizontal",value:this.second,min:d.secondMin,max:k,step:d.stepSecond,slide:function(c,b){a.second_slider.slider("option","value",b.value);a._onTimeChange()}});this.millisec_slider=
$tp.find("#ui_tpicker_millisec_"+h).slider({orientation:"horizontal",value:this.millisec,min:d.millisecMin,max:j,step:d.stepMillisec,slide:function(c,b){a.millisec_slider.slider("option","value",b.value);a._onTimeChange()}});this.timezone_select=$tp.find("#ui_tpicker_timezone_"+h).append("<select></select>").find("select");e.fn.append.apply(this.timezone_select,e.map(d.timezoneList,function(c){return e("<option />").val(typeof c=="object"?c.value:c).text(typeof c=="object"?c.label:c)}));this.timezone_select.val(typeof this.timezone!=
"undefined"&&this.timezone!=null&&this.timezone!=""?this.timezone:d.timezone);this.timezone_select.change(function(){a._onTimeChange()});d.showHour&&d.hourGrid>0&&(n=100*g*d.hourGrid/(b-d.hourMin),$tp.find(".ui_tpicker_hour table").css({width:n+"%",marginLeft:n/(-2*g)+"%",borderCollapse:"collapse"}).find("td").each(function(){e(this).click(function(){var c=e(this).html();if(d.ampm)var b=c.substring(2).toLowerCase(),c=parseInt(c.substring(0,2),10),c=b=="a"?c==12?0:c:c==12?12:c+12;a.hour_slider.slider("option",
"value",c);a._onTimeChange();a._onSelectHandler()}).css({cursor:"pointer",width:100/g+"%",textAlign:"center",overflow:"hidden"})}));d.showMinute&&d.minuteGrid>0&&(n=100*l*d.minuteGrid/(c-d.minuteMin),$tp.find(".ui_tpicker_minute table").css({width:n+"%",marginLeft:n/(-2*l)+"%",borderCollapse:"collapse"}).find("td").each(function(){e(this).click(function(){a.minute_slider.slider("option","value",e(this).html());a._onTimeChange();a._onSelectHandler()}).css({cursor:"pointer",width:100/l+"%",textAlign:"center",
overflow:"hidden"})}));d.showSecond&&d.secondGrid>0&&$tp.find(".ui_tpicker_second table").css({width:n+"%",marginLeft:n/(-2*o)+"%",borderCollapse:"collapse"}).find("td").each(function(){e(this).click(function(){a.second_slider.slider("option","value",e(this).html());a._onTimeChange();a._onSelectHandler()}).css({cursor:"pointer",width:100/o+"%",textAlign:"center",overflow:"hidden"})});d.showMillisec&&d.millisecGrid>0&&$tp.find(".ui_tpicker_millisec table").css({width:n+"%",marginLeft:n/(-2*r)+"%",
borderCollapse:"collapse"}).find("td").each(function(){e(this).click(function(){a.millisec_slider.slider("option","value",e(this).html());a._onTimeChange();a._onSelectHandler()}).css({cursor:"pointer",width:100/r+"%",textAlign:"center",overflow:"hidden"})});b=f.find(".ui-datepicker-buttonpane");b.length?b.before($tp):f.append($tp);this.$timeObj=$tp.find("#ui_tpicker_time_"+h);if(this.inst!==null)f=this.timeDefined,this._onTimeChange(),this.timeDefined=f;f=function(){a._onSelectHandler()};this.hour_slider.bind("slidestop",
f);this.minute_slider.bind("slidestop",f);this.second_slider.bind("slidestop",f);this.millisec_slider.bind("slidestop",f)}},_limitMinMaxDateTime:function(f,d){var a=this._defaults,b=new Date(f.selectedYear,f.selectedMonth,f.selectedDay);if(this._defaults.showTimepicker){if(e.datepicker._get(f,"minDateTime")!==null&&e.datepicker._get(f,"minDateTime")!==void 0&&b){var c=e.datepicker._get(f,"minDateTime"),k=new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0,0);if(this.hourMinOriginal===null||this.minuteMinOriginal===
null||this.secondMinOriginal===null||this.millisecMinOriginal===null)this.hourMinOriginal=a.hourMin,this.minuteMinOriginal=a.minuteMin,this.secondMinOriginal=a.secondMin,this.millisecMinOriginal=a.millisecMin;if(f.settings.timeOnly||k.getTime()==b.getTime())if(this._defaults.hourMin=c.getHours(),this.hour<=this._defaults.hourMin)if(this.hour=this._defaults.hourMin,this._defaults.minuteMin=c.getMinutes(),this.minute<=this._defaults.minuteMin)this.minute=this._defaults.minuteMin,this._defaults.secondMin=
c.getSeconds();else if(this.second<=this._defaults.secondMin)this.second=this._defaults.secondMin,this._defaults.millisecMin=c.getMilliseconds();else{if(this.millisec<this._defaults.millisecMin)this.millisec=this._defaults.millisecMin;this._defaults.millisecMin=this.millisecMinOriginal}else this._defaults.minuteMin=this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal;else this._defaults.hourMin=this.hourMinOriginal,this._defaults.minuteMin=
this.minuteMinOriginal,this._defaults.secondMin=this.secondMinOriginal,this._defaults.millisecMin=this.millisecMinOriginal}if(e.datepicker._get(f,"maxDateTime")!==null&&e.datepicker._get(f,"maxDateTime")!==void 0&&b){c=e.datepicker._get(f,"maxDateTime");k=new Date(c.getFullYear(),c.getMonth(),c.getDate(),0,0,0,0);if(this.hourMaxOriginal===null||this.minuteMaxOriginal===null||this.secondMaxOriginal===null)this.hourMaxOriginal=a.hourMax,this.minuteMaxOriginal=a.minuteMax,this.secondMaxOriginal=a.secondMax,
this.millisecMaxOriginal=a.millisecMax;if(f.settings.timeOnly||k.getTime()==b.getTime())if(this._defaults.hourMax=c.getHours(),this.hour>=this._defaults.hourMax)if(this.hour=this._defaults.hourMax,this._defaults.minuteMax=c.getMinutes(),this.minute>=this._defaults.minuteMax)this.minute=this._defaults.minuteMax,this._defaults.secondMax=c.getSeconds();else if(this.second>=this._defaults.secondMax)this.second=this._defaults.secondMax,this._defaults.millisecMax=c.getMilliseconds();else{if(this.millisec>
this._defaults.millisecMax)this.millisec=this._defaults.millisecMax;this._defaults.millisecMax=this.millisecMaxOriginal}else this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal;else this._defaults.hourMax=this.hourMaxOriginal,this._defaults.minuteMax=this.minuteMaxOriginal,this._defaults.secondMax=this.secondMaxOriginal,this._defaults.millisecMax=this.millisecMaxOriginal}d!==void 0&&d===!0&&(a=(this._defaults.hourMax-
this._defaults.hourMax%this._defaults.stepHour).toFixed(0),b=(this._defaults.minuteMax-this._defaults.minuteMax%this._defaults.stepMinute).toFixed(0),c=(this._defaults.secondMax-this._defaults.secondMax%this._defaults.stepSecond).toFixed(0),k=(this._defaults.millisecMax-this._defaults.millisecMax%this._defaults.stepMillisec).toFixed(0),this.hour_slider&&this.hour_slider.slider("option",{min:this._defaults.hourMin,max:a}).slider("value",this.hour),this.minute_slider&&this.minute_slider.slider("option",
{min:this._defaults.minuteMin,max:b}).slider("value",this.minute),this.second_slider&&this.second_slider.slider("option",{min:this._defaults.secondMin,max:c}).slider("value",this.second),this.millisec_slider&&this.millisec_slider.slider("option",{min:this._defaults.millisecMin,max:k}).slider("value",this.millisec))}},_onTimeChange:function(){var f=this.hour_slider?this.hour_slider.slider("value"):!1,d=this.minute_slider?this.minute_slider.slider("value"):!1,a=this.second_slider?this.second_slider.slider("value"):
!1,b=this.millisec_slider?this.millisec_slider.slider("value"):!1,c=this.timezone_select?this.timezone_select.val():!1;typeof f=="object"&&(f=!1);typeof d=="object"&&(d=!1);typeof a=="object"&&(a=!1);typeof b=="object"&&(b=!1);typeof c=="object"&&(c=!1);f!==!1&&(f=parseInt(f,10));d!==!1&&(d=parseInt(d,10));a!==!1&&(a=parseInt(a,10));b!==!1&&(b=parseInt(b,10));var k=f<12?"AM":"PM",j=f!=this.hour||d!=this.minute||a!=this.second||b!=this.millisec||this.ampm.length>0&&this.ampm!=k||c!=this.timezone;if(j){if(f!==
!1)this.hour=f;if(d!==!1)this.minute=d;if(a!==!1)this.second=a;if(b!==!1)this.millisec=b;if(c!==!1)this.timezone=c;if(!this.inst)this.inst=e.datepicker._getInst(this.$input[0]);this._limitMinMaxDateTime(this.inst,!0)}if(this._defaults.ampm)this.ampm=k;this._formatTime();this.$timeObj&&this.$timeObj.text(this.formattedTime+this._defaults.timeSuffix);this.timeDefined=!0;j&&this._updateDateTime()},_onSelectHandler:function(){var f=this._defaults.onSelect,d=this.$input?this.$input[0]:null;f&&d&&f.apply(d,
[this.formattedDateTime,this])},_formatTime:function(f,d,a){if(a==void 0)a=this._defaults.ampm;var f=f||{hour:this.hour,minute:this.minute,second:this.second,millisec:this.millisec,ampm:this.ampm,timezone:this.timezone},b=d||this._defaults.timeFormat.toString();if(a)var c=f.ampm=="AM"?f.hour:f.hour%12,c=Number(c)===0?12:c,b=b.toString().replace(/hh/g,(c<10?"0":"")+c).replace(/h/g,c).replace(/mm/g,(f.minute<10?"0":"")+f.minute).replace(/m/g,f.minute).replace(/ss/g,(f.second<10?"0":"")+f.second).replace(/s/g,
f.second).replace(/l/g,(f.millisec<10?"00":f.millisec<100?"0":"")+f.millisec).replace(/TT/g,f.ampm.toUpperCase()).replace(/Tt/g,f.ampm.toUpperCase()).replace(/tT/g,f.ampm.toLowerCase()).replace(/tt/g,f.ampm.toLowerCase()).replace(/T/g,f.ampm.charAt(0).toUpperCase()).replace(/t/g,f.ampm.charAt(0).toLowerCase()).replace(/z/g,f.timezone);else b=b.toString().replace(/hh/g,(f.hour<10?"0":"")+f.hour).replace(/h/g,f.hour).replace(/mm/g,(f.minute<10?"0":"")+f.minute).replace(/m/g,f.minute).replace(/ss/g,
(f.second<10?"0":"")+f.second).replace(/s/g,f.second).replace(/l/g,(f.millisec<10?"00":f.millisec<100?"0":"")+f.millisec).replace(/z/g,f.timezone),b=e.trim(b.replace(/t/gi,""));if(arguments.length)return b;else this.formattedTime=b},_updateDateTime:function(f){f=this.inst||f;dt=new Date(f.selectedYear,f.selectedMonth,f.selectedDay);dateFmt=e.datepicker._get(f,"dateFormat");formatCfg=e.datepicker._getFormatConfig(f);timeAvailable=dt!==null&&this.timeDefined;var d=this.formattedDate=e.datepicker.formatDate(dateFmt,
dt===null?new Date:dt,formatCfg);if(!(f.lastVal!==void 0&&f.lastVal.length>0&&this.$input.val().length===0)){if(this._defaults.timeOnly===!0)d=this.formattedTime;else if(this._defaults.timeOnly!==!0&&(this._defaults.alwaysSetTime||timeAvailable))d+=this._defaults.separator+this.formattedTime+this._defaults.timeSuffix;this.formattedDateTime=d;this._defaults.showTimepicker?this.$altInput&&this._defaults.altFieldTimeOnly===!0?(this.$altInput.val(this.formattedTime),this.$input.val(this.formattedDate)):
(this.$altInput&&this.$altInput.val(d),this.$input.val(d)):this.$input.val(this.formattedDate);this.$input.trigger("change")}}});e.fn.extend({timepicker:function(f){var f=f||{},d=arguments;typeof f=="object"&&(d[0]=e.extend(f,{timeOnly:!0}));return e(this).each(function(){e.fn.datetimepicker.apply(e(this),d)})},datetimepicker:function(f){var f=f||{},d=arguments;return typeof f=="string"?f=="getDate"?e.fn.datepicker.apply(e(this[0]),d):this.each(function(){var a=e(this);a.datepicker.apply(a,d)}):this.each(function(){var a=
e(this);a.datepicker(e.timepicker._newInst(a,f)._defaults)})}});e.datepicker._base_selectDate=e.datepicker._selectDate;e.datepicker._selectDate=function(f,d){var a=this._getInst(e(f)[0]),b=this._get(a,"timepicker");b?(b._limitMinMaxDateTime(a,!0),a.inline=a.stay_open=!0,this._base_selectDate(f,d),a.inline=a.stay_open=!1,this._notifyChange(a),this._updateDatepicker(a)):this._base_selectDate(f,d)};e.datepicker._base_updateDatepicker=e.datepicker._updateDatepicker;e.datepicker._updateDatepicker=function(f){var d=
f.input[0];if(!e.datepicker._curInst||!(e.datepicker._curInst!=f&&e.datepicker._datepickerShowing&&e.datepicker._lastInput!=d))if(typeof f.stay_open!=="boolean"||f.stay_open===!1)this._base_updateDatepicker(f),(d=this._get(f,"timepicker"))&&d._addTimePicker(f)};e.datepicker._base_doKeyPress=e.datepicker._doKeyPress;e.datepicker._doKeyPress=function(f){var d=e.datepicker._getInst(f.target),a=e.datepicker._get(d,"timepicker");if(a&&e.datepicker._get(d,"constrainInput")){var b=a._defaults.ampm,d=e.datepicker._possibleChars(e.datepicker._get(d,
"dateFormat")),a=a._defaults.timeFormat.toString().replace(/[hms]/g,"").replace(/TT/g,b?"APM":"").replace(/Tt/g,b?"AaPpMm":"").replace(/tT/g,b?"AaPpMm":"").replace(/T/g,b?"AP":"").replace(/tt/g,b?"apm":"").replace(/t/g,b?"ap":"")+" "+a._defaults.separator+a._defaults.timeSuffix+(a._defaults.showTimezone?a._defaults.timezoneList.join(""):"")+d,b=String.fromCharCode(f.charCode===void 0?f.keyCode:f.charCode);return f.ctrlKey||b<" "||!d||a.indexOf(b)>-1}return e.datepicker._base_doKeyPress(f)};e.datepicker._base_doKeyUp=
e.datepicker._doKeyUp;e.datepicker._doKeyUp=function(f){var d=e.datepicker._getInst(f.target),a=e.datepicker._get(d,"timepicker");if(a&&a._defaults.timeOnly&&d.input.val()!=d.lastVal)try{e.datepicker._updateDatepicker(d)}catch(b){e.datepicker.log(b)}return e.datepicker._base_doKeyUp(f)};e.datepicker._base_gotoToday=e.datepicker._gotoToday;e.datepicker._gotoToday=function(f){var d=this._getInst(e(f)[0]),a=d.dpDiv;this._base_gotoToday(f);var f=new Date,b=this._get(d,"timepicker");if(b._defaults.showTimezone&&
b.timezone_select){var c=f.getTimezoneOffset(),k=c>0?"-":"+",c=Math.abs(c),j=c%60,c=k+("0"+(c-j)/60).slice(-2)+("0"+j).slice(-2);b._defaults.timezoneIso8609&&(c=c.substring(0,3)+":"+c.substring(3));b.timezone_select.val(c)}this._setTime(d,f);e(".ui-datepicker-today",a).click()};e.datepicker._disableTimepickerDatepicker=function(f){var d=this._getInst(f),a=this._get(d,"timepicker");e(f).datepicker("getDate");if(a)a._defaults.showTimepicker=!1,a._updateDateTime(d)};e.datepicker._enableTimepickerDatepicker=
function(f){var d=this._getInst(f),a=this._get(d,"timepicker");e(f).datepicker("getDate");if(a)a._defaults.showTimepicker=!0,a._addTimePicker(d),a._updateDateTime(d)};e.datepicker._setTime=function(f,d){var a=this._get(f,"timepicker");if(a){var b=a._defaults,c=d?d.getHours():b.hour,e=d?d.getMinutes():b.minute,j=d?d.getSeconds():b.second,h=d?d.getMilliseconds():b.millisec;if(c<b.hourMin||c>b.hourMax||e<b.minuteMin||e>b.minuteMax||j<b.secondMin||j>b.secondMax||h<b.millisecMin||h>b.millisecMax)c=b.hourMin,
e=b.minuteMin,j=b.secondMin,h=b.millisecMin;a.hour=c;a.minute=e;a.second=j;a.millisec=h;a.hour_slider&&a.hour_slider.slider("value",c);a.minute_slider&&a.minute_slider.slider("value",e);a.second_slider&&a.second_slider.slider("value",j);a.millisec_slider&&a.millisec_slider.slider("value",h);a._onTimeChange();a._updateDateTime(f)}};e.datepicker._setTimeDatepicker=function(f,d,a){var f=this._getInst(f),b=this._get(f,"timepicker");b&&(this._setDateFromField(f),d&&(typeof d=="string"?(b._parseTime(d,
a),d=new Date,d.setHours(b.hour,b.minute,b.second,b.millisec)):d=new Date(d.getTime()),d.toString()=="Invalid Date"&&(d=void 0),this._setTime(f,d)))};e.datepicker._base_setDateDatepicker=e.datepicker._setDateDatepicker;e.datepicker._setDateDatepicker=function(f,d){var a=this._getInst(f),b=d instanceof Date?new Date(d.getTime()):d;this._updateDatepicker(a);this._base_setDateDatepicker.apply(this,arguments);this._setTimeDatepicker(f,b,!0)};e.datepicker._base_getDateDatepicker=e.datepicker._getDateDatepicker;
e.datepicker._getDateDatepicker=function(f,d){var a=this._getInst(f),b=this._get(a,"timepicker");return b?(this._setDateFromField(a,d),(a=this._getDate(a))&&b._parseTime(e(f).val(),b.timeOnly)&&a.setHours(b.hour,b.minute,b.second,b.millisec),a):this._base_getDateDatepicker(f,d)};e.datepicker._base_parseDate=e.datepicker.parseDate;e.datepicker.parseDate=function(f,d,a){var b;try{b=this._base_parseDate(f,d,a)}catch(c){b=this._base_parseDate(f,d.substring(0,d.length-(c.length-c.indexOf(":")-2)),a)}return b};
e.datepicker._base_formatDate=e.datepicker._formatDate;e.datepicker._formatDate=function(f,d,a,b){var c=this._get(f,"timepicker");return c?(d&&this._base_formatDate(f,d,a,b),c._updateDateTime(),c.$input.val()):this._base_formatDate(f)};e.datepicker._base_optionDatepicker=e.datepicker._optionDatepicker;e.datepicker._optionDatepicker=function(f,d,a){var b=this._get(this._getInst(f),"timepicker");if(b){var c,e,j;if(typeof d=="string")d==="minDate"||d==="minDateTime"?c=a:d==="maxDate"||d==="maxDateTime"?
e=a:d==="onSelect"&&(j=a);else if(typeof d=="object")if(d.minDate)c=d.minDate;else if(d.minDateTime)c=d.minDateTime;else if(d.maxDate)e=d.maxDate;else if(d.maxDateTime)e=d.maxDateTime;if(c)c=c==0?new Date:new Date(c),b._defaults.minDate=c,b._defaults.minDateTime=c;else if(e)e=e==0?new Date:new Date(e),b._defaults.maxDate=e,b._defaults.maxDateTime=e;else if(j)b._defaults.onSelect=j}this._base_optionDatepicker(f,d,a)};e.timepicker=new g;e.timepicker.version="0.9.7"})(jQuery);
(function(e){jQuery.fn.extend({elastic:function(){var g="paddingTop,paddingRight,paddingBottom,paddingLeft,fontSize,lineHeight,fontFamily,width,fontWeight,border-top-width,border-right-width,border-bottom-width,border-left-width,borderTopStyle,borderTopColor,borderRightStyle,borderRightColor,borderBottomStyle,borderBottomColor,borderLeftStyle,borderLeftColor".split(",");return this.each(function(){function f(){var d=Math.floor(parseInt(b.width(),10));c.width()!==d&&(c.css({width:d+"px"}),a(!0))}function d(c,
a){var d=Math.floor(parseInt(c,10));b.height()!==d&&b.css({height:d+"px",overflow:a})}function a(a){var e=b.val().replace(/&/g,"&amp;").replace(/ {2}/g,"&nbsp;").replace(/<|>/g,"&gt;").replace(/\n/g,"<br />"),f=c.html().replace(/<br>/ig,"<br />");if(a||e+"&nbsp;"!==f)c.html(e+"&nbsp;"),Math.abs(c.height()+k-b.height())>3&&(a=c.height()+k,a>=h?d(h,"auto"):a<=j?d(j,"hidden"):d(a,"hidden"))}if(this.type!=="textarea")return!1;var b=jQuery(this),c=jQuery("<div />").css({position:"absolute",display:"none",
"word-wrap":"break-word","white-space":"pre-wrap"}),k=parseInt(b.css("line-height"),10)||parseInt(b.css("font-size"),"10"),j=parseInt(b.css("height"),10)||k*3,h=parseInt(b.css("max-height"),10)||Number.MAX_VALUE;if(h<0)h=Number.MAX_VALUE;c.appendTo(b.parent());for(var i=g.length;i--;)c.css(g[i].toString(),b.css(g[i].toString()));b.css({overflow:"hidden"});b.bind("keyup change cut paste",function(){a()});e(window).bind("resize",f);b.bind("resize",f);b.bind("update",a);b.bind("blur",function(){c.height()<
h&&(c.height()>j?b.height(c.height()):b.height(j))});b.bind("input paste",function(){setTimeout(a,250)});a()})}})})(jQuery);
(function(e){function g(c,a){var b=c.parents(".element"),b=e(".modifiers",b);b.length||(b=e("<span />").addClass("modifiers"),c.after(b));b.append(a)}function f(c){var a=e("<button />",{text:"Remove"}).button({icons:{primary:"ui-icon-circle-minus"},text:!1}).addClass("delete");a[0].setAttribute("type","button");e(".allowDeletion",c).each(function(){g(e(this),a.clone(!0))})}function d(c){var a=e("<button />",{text:"Add multiple"}).button({icons:{primary:"ui-icon-circle-plus"},text:!1}).addClass("duplicate");
a[0].setAttribute("type","button");e(".allowDuplication",c).each(function(){g(e(this),a.clone(!0))})}function a(c,a){var b=function(c,b){if(b!==void 0){if(b.length>2&&b.substr(-2)==="[]")return b;else if(b.length)return b+"-"+a;return""}};e("[id], [name], [for]",c).attr("id",b).attr("name",b).attr("for",b)}function b(){var c=e(this);c.autocomplete({source:c.data("options"),minLength:c.data("minLength")||0,delay:c.data("delay")||300})}e(function(){var c=e(".form .element");f(c);d(c);e(c).live({"delete":function(){e(this).removeElement()},
duplicate:function(){e(this).duplicateElement()}});e("button.delete",c).live({click:function(){e(this).trigger("delete");return!1}});e("button.duplicate",c).live({click:function(){e(this).trigger("duplicate");return!1}});e(".modifiers",c).buttonset();c.find(".autocomplete").each(b).end();e('input[type="date"]',c).datepicker({dateFormat:"yy-mm-dd"});e('input[type="month"]',c).datepicker({dateFormat:"yy-mm"});e('input[type="datetime"]',c).datetimepicker({dateFormat:"yy-mm-dd",separator:"T",timeFormat:"hh:mm:ssz",
timezoneIso8609:!0});e('input[type="time"]',c).timepicker({timeFormat:"hh:mm:ssz",timezoneIso8609:!0});c.filter(".sortable").length&&e(".form").sortable({items:".element.sortable"});c.end();e(".elastic",c).elastic();e(".chosen",c).chosen()});e.fn.duplicateElement=function(){return this.each(function(){var c=e(this),b=c;e("table.datagrid",c).length>0&&(b=e("tbody tr:last",c),c=e("tbody tr:not(.clone):last",c));var d=c.clone().addClass("clone");c.data("cloneLength",(c.data("cloneLength")||0)+1);c.data("cloneCount",
(c.data("cloneCount")||0)+1);d.data("original",c);e(".allowDuplication",d).removeClass("allowDuplication");e(".duplicate",d).remove();e("input",d).val("");e('input[type="checkbox"]',d).attr("checked",!1);var f;f=c.data("cloneCount");var i=4;i-=f.toString().length;f=i>0?Array(i+(/\./.test(f)?2:1)).join("0")+f:f;a(d,"clone"+f);b.after(d);d.trigger("afterduplicate",{original:c});e("input:first",d).focus()})};e.fn.removeElement=function(){return this.each(function(){current=e(this);if(e(".confirm",current).length&&
(confirmMsg="Are you sure you want to remove this?",!confirm(confirmMsg)))return;current.hasClass("clone")&&(original=current.data("original"),original.data("cloneLength",(original.data("cloneLength")||0)-1));current.remove()})}})(jQuery);(function(e){e(function(){e(".list li:even:not(.header)").addClass("alt")})})(jQuery);
(function(e){function g(d){var a=e(this),b=a.attr("href"),a=a.parents("td").data("title")||"this item";f||(f=e("<div />",{title:"Delete item?"}),f.appendTo(e("body")));d.preventDefault();f.empty().append(e("<p />",{text:"Are you sure you want to remove "+a+"?"}));f.dialog({resizable:!1,modal:!0,buttons:{"Delete Item":function(){window.location.href=b},Cancel:function(){f.dialog("close")}}})}var f;e.fn.datagrid=function(d){var a=e.extend({},e.fn.datagrid.defaults,d);return this.each(function(){$this=
e(this);var b=e.meta?e.extend({},a,$this.data()):a;$this.addClass(b.classDatagrid).addClass(b.classActive);e("a.delete",$this).click(g)})};e.fn.datagrid.version="0.1.0";e.fn.datagrid.defaults={classActive:"active",classDatagrid:"datagrid",columnExp:/column-([0-9]+)/i}})(jQuery);
(function(){var e,g,f,d,a=function(a,c){return function(){return a.apply(c,arguments)}};d=this;e=jQuery;e.fn.extend({chosen:function(a,c){return e(this).each(function(){if(!e(this).hasClass("chzn-done"))return new g(this,a,c)})}});g=function(){function b(c){this.set_default_values();this.form_field=c;this.form_field_jq=e(this.form_field);this.is_multiple=this.form_field.multiple;this.is_rtl=this.form_field_jq.hasClass("chzn-rtl");this.default_text_default=this.form_field.multiple?"Select Some Options":
"Select an Option";this.set_up_html();this.register_observers();this.form_field_jq.addClass("chzn-done")}b.prototype.set_default_values=function(){this.click_test_action=a(function(c){return this.test_active_click(c)},this);this.active_field=!1;this.mouse_on_container=!1;this.results_showing=!1;this.result_highlighted=null;this.result_single_selected=null;return this.choices=0};b.prototype.set_up_html=function(){var c,a,b,d;this.container_id=this.form_field.id.length?this.form_field.id.replace(/(:|\.)/g,
"_"):this.generate_field_id();this.container_id+="_chzn";this.f_width=this.form_field_jq.width();this.default_text=this.form_field_jq.data("placeholder")?this.form_field_jq.data("placeholder"):this.default_text_default;c=e("<div />",{id:this.container_id,"class":"chzn-container "+(this.is_rtl?"chzn-rtl":""),style:"width: "+this.f_width+"px;"});this.is_multiple?c.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):
c.html('<a href="javascript:void(0)" class="chzn-single"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>');this.form_field_jq.hide().after(c);this.container=e("#"+this.container_id);this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single"));this.dropdown=this.container.find("div.chzn-drop").first();a=this.container.height();
b=this.f_width-f(this.dropdown);this.dropdown.css({width:b+"px",top:a+"px"});this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chzn-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),
this.selected_item=this.container.find(".chzn-single").first(),d=b-f(this.search_container)-f(this.search_field),this.search_field.css({width:d+"px"}));this.results_build();return this.set_tab_index()};b.prototype.register_observers=function(){this.container.click(a(function(c){return this.container_click(c)},this));this.container.mouseenter(a(function(c){return this.mouse_enter(c)},this));this.container.mouseleave(a(function(c){return this.mouse_leave(c)},this));this.search_results.click(a(function(c){return this.search_results_click(c)},
this));this.search_results.mouseover(a(function(c){return this.search_results_mouseover(c)},this));this.search_results.mouseout(a(function(c){return this.search_results_mouseout(c)},this));this.form_field_jq.bind("liszt:updated",a(function(c){return this.results_update_field(c)},this));this.search_field.blur(a(function(c){return this.input_blur(c)},this));this.search_field.keyup(a(function(c){return this.keyup_checker(c)},this));this.search_field.keydown(a(function(c){return this.keydown_checker(c)},
this));return this.is_multiple?(this.search_choices.click(a(function(c){return this.choices_click(c)},this)),this.search_field.focus(a(function(c){return this.input_focus(c)},this))):this.selected_item.focus(a(function(c){return this.activate_field(c)},this))};b.prototype.container_click=function(c){c&&c.type==="click"&&c.stopPropagation();return!this.pending_destroy_click?(this.active_field?!this.is_multiple&&c&&(e(c.target)===this.selected_item||e(c.target).parents("a.chzn-single").length)&&(c.preventDefault(),
this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).click(this.click_test_action),this.results_show()),this.activate_field()):this.pending_destroy_click=!1};b.prototype.mouse_enter=function(){return this.mouse_on_container=!0};b.prototype.mouse_leave=function(){return this.mouse_on_container=!1};b.prototype.input_focus=function(){if(!this.active_field)return setTimeout(a(function(){return this.container_click()},this),50)};b.prototype.input_blur=function(){if(!this.mouse_on_container)return this.active_field=
!1,setTimeout(a(function(){return this.blur_test()},this),100)};b.prototype.blur_test=function(){if(!this.active_field&&this.container.hasClass("chzn-container-active"))return this.close_field()};b.prototype.close_field=function(){e(document).unbind("click",this.click_test_action);this.is_multiple||(this.selected_item.attr("tabindex",this.search_field.attr("tabindex")),this.search_field.attr("tabindex",-1));this.active_field=!1;this.results_hide();this.container.removeClass("chzn-container-active");
this.winnow_results_clear();this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};b.prototype.activate_field=function(){!this.is_multiple&&!this.active_field&&(this.search_field.attr("tabindex",this.selected_item.attr("tabindex")),this.selected_item.attr("tabindex",-1));this.container.addClass("chzn-container-active");this.active_field=!0;this.search_field.val(this.search_field.val());return this.search_field.focus()};b.prototype.test_active_click=function(c){return e(c.target).parents("#"+
this.container_id).length?this.active_field=!0:this.close_field()};b.prototype.results_build=function(){var c,a,b,f,e;this.parsing=!0;this.results_data=d.SelectParser.select_to_array(this.form_field);this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||this.selected_item.find("span").text(this.default_text);c="";e=this.results_data;for(b=0,f=e.length;b<f;b++)a=e[b],a.group?c+=this.result_add_group(a):a.empty||(c+=this.result_add_option(a),
a.selected&&this.is_multiple?this.choice_build(a):a.selected&&!this.is_multiple&&this.selected_item.find("span").text(a.text));this.show_search_field_default();this.search_field_scale();this.search_results.html(c);return this.parsing=!1};b.prototype.result_add_group=function(c){return!c.disabled?(c.dom_id=this.container_id+"_g_"+c.array_index,'<li id="'+c.dom_id+'" class="group-result">'+e("<div />").text(c.label).html()+"</li>"):""};b.prototype.result_add_option=function(c){var a;return!c.disabled?
(c.dom_id=this.container_id+"_o_"+c.array_index,a=c.selected&&this.is_multiple?[]:["active-result"],c.selected&&a.push("result-selected"),c.group_array_index!=null&&a.push("group-option"),'<li id="'+c.dom_id+'" class="'+a.join(" ")+'">'+c.html+"</li>"):""};b.prototype.results_update_field=function(){this.result_clear_highlight();this.result_single_selected=null;return this.results_build()};b.prototype.result_do_highlight=function(c){var a,b,d,e;if(c.length){this.result_clear_highlight();this.result_highlight=
c;this.result_highlight.addClass("highlighted");b=parseInt(this.search_results.css("maxHeight"),10);e=this.search_results.scrollTop();d=b+e;a=this.result_highlight.position().top+this.search_results.scrollTop();c=a+this.result_highlight.outerHeight();if(c>=d)return this.search_results.scrollTop(c-b>0?c-b:0);if(a<e)return this.search_results.scrollTop(a)}};b.prototype.result_clear_highlight=function(){this.result_highlight&&this.result_highlight.removeClass("highlighted");return this.result_highlight=
null};b.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()};b.prototype.results_show=function(){var c;this.is_multiple||(this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected));c=this.is_multiple?this.container.height():this.container.height()-1;this.dropdown.css({top:c+"px",left:0});this.results_showing=!0;this.search_field.focus();this.search_field.val(this.search_field.val());
return this.winnow_results()};b.prototype.results_hide=function(){this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop");this.result_clear_highlight();this.dropdown.css({left:"-9000px"});return this.results_showing=!1};b.prototype.set_tab_index=function(){var c;if(this.form_field_jq.attr("tabindex")){c=this.form_field_jq.attr("tabindex");this.form_field_jq.attr("tabindex",-1);if(this.is_multiple)return this.search_field.attr("tabindex",c);this.selected_item.attr("tabindex",c);return this.search_field.attr("tabindex",
-1)}};b.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices<1&&!this.active_field)return this.search_field.val(this.default_text),this.search_field.addClass("default");this.search_field.val("");return this.search_field.removeClass("default")};b.prototype.search_results_click=function(c){var a;a=e(c.target).hasClass("active-result")?e(c.target):e(c.target).parents(".active-result").first();if(a.length)return this.result_highlight=a,this.result_select(c)};b.prototype.search_results_mouseover=
function(c){if(c=e(c.target).hasClass("active-result")?e(c.target):e(c.target).parents(".active-result").first())return this.result_do_highlight(c)};b.prototype.search_results_mouseout=function(c){if(e(c.target).hasClass("active-result"))return this.result_clear_highlight()};b.prototype.choices_click=function(c){c.preventDefault();if(this.active_field&&!e(c.target).hasClass("search-choice")&&!this.results_showing)return this.results_show()};b.prototype.choice_build=function(c){var b;b=this.container_id+
"_c_"+c.array_index;this.choices+=1;this.search_container.before('<li class="search-choice" id="'+b+'"><span>'+c.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+c.array_index+'"></a></li>');c=e("#"+b).find("a").first();return c.click(a(function(c){return this.choice_destroy_link_click(c)},this))};b.prototype.choice_destroy_link_click=function(c){c.preventDefault();this.pending_destroy_click=!0;return this.choice_destroy(e(c.target))};b.prototype.choice_destroy=function(c){this.choices-=
1;this.show_search_field_default();this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide();this.result_deselect(c.attr("rel"));return c.parents("li").first().remove()};b.prototype.result_select=function(c){var a,b,d,e;if(this.result_highlight)return a=this.result_highlight,b=a.attr("id"),this.result_clear_highlight(),a.addClass("result-selected"),this.is_multiple?this.result_deactivate(a):this.result_single_selected=a,e=b.substr(b.lastIndexOf("_")+1),d=this.results_data[e],
d.selected=!0,this.form_field.options[d.options_index].selected=!0,this.is_multiple?this.choice_build(d):this.selected_item.find("span").first().text(d.text),(!c.metaKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),this.form_field_jq.trigger("change"),this.search_field_scale()};b.prototype.result_activate=function(c){return c.addClass("active-result").show()};b.prototype.result_deactivate=function(c){return c.removeClass("active-result").hide()};b.prototype.result_deselect=function(c){var a,
b;b=this.results_data[c];b.selected=!1;this.form_field.options[b.options_index].selected=!1;a=e("#"+this.container_id+"_o_"+c);a.removeClass("result-selected").addClass("active-result").show();this.result_clear_highlight();this.winnow_results();this.form_field_jq.trigger("change");return this.search_field_scale()};b.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()};b.prototype.winnow_results=function(){var c,a,b,d,f,g,l,o,r,n,m,p,q,u,v,t;this.no_results_clear();
l=0;o=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html();f=RegExp("^"+o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");m=RegExp(o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");t=this.results_data;for(p=0,u=t.length;p<u;p++)if(a=t[p],!a.disabled&&!a.empty)if(a.group)e("#"+a.dom_id).hide();else if(!this.is_multiple||!a.selected){c=!1;g=a.dom_id;if(f.test(a.html))c=!0,l+=1;else if(a.html.indexOf(" ")>=0||a.html.indexOf("[")===0)if(d=a.html.replace(/\[|\]/g,
"").split(" "),d.length)for(q=0,v=d.length;q<v;q++)b=d[q],f.test(b)&&(c=!0,l+=1);c?(o.length?(r=a.html.search(m),n=a.html.substr(0,r+o.length)+"</em>"+a.html.substr(r+o.length),n=n.substr(0,r)+"<em>"+n.substr(r)):n=a.html,e("#"+g).html!==n&&e("#"+g).html(n),this.result_activate(e("#"+g)),a.group_array_index!=null&&e("#"+this.results_data[a.group_array_index].dom_id).show()):(this.result_highlight&&g===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(e("#"+g)))}return l<
1&&o.length?this.no_results(o):this.winnow_results_set_highlight()};b.prototype.winnow_results_clear=function(){var a,b,d,f,g;this.search_field.val("");b=this.search_results.find("li");g=[];for(d=0,f=b.length;d<f;d++)a=b[d],a=e(a),g.push(a.hasClass("group-result")?a.show():!this.is_multiple||!a.hasClass("result-selected")?this.result_activate(a):void 0);return g};b.prototype.winnow_results_set_highlight=function(){var a,b;if(!this.result_highlight&&(b=this.is_multiple?[]:this.search_results.find(".result-selected"),
a=b.length?b.first():this.search_results.find(".active-result").first(),a!=null))return this.result_do_highlight(a)};b.prototype.no_results=function(a){var b;b=e('<li class="no-results">No results match "<span></span>"</li>');b.find("span").first().html(a);return this.search_results.append(b)};b.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};b.prototype.keydown_arrow=function(){var a,b;this.result_highlight?this.results_showing&&(b=this.result_highlight.nextAll("li.active-result").first(),
b&&this.result_do_highlight(b)):(a=this.search_results.find("li.active-result").first(),a&&this.result_do_highlight(e(a)));if(!this.results_showing)return this.results_show()};b.prototype.keyup_arrow=function(){var a;if(!this.results_showing&&!this.is_multiple)return this.results_show();if(this.result_highlight){a=this.result_highlight.prevAll("li.active-result");if(a.length)return this.result_do_highlight(a.first());this.choices>0&&this.results_hide();return this.result_clear_highlight()}};b.prototype.keydown_backstroke=
function(){if(this.pending_backstroke)return this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke();this.pending_backstroke=this.search_container.siblings("li.search-choice").last();return this.pending_backstroke.addClass("search-choice-focus")};b.prototype.clear_backstroke=function(){this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus");return this.pending_backstroke=null};b.prototype.keyup_checker=function(a){var b,d;b=(d=a.which)!=null?
d:a.keyCode;this.search_field_scale();switch(b){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:a.preventDefault();if(this.results_showing)return this.result_select(a);break;case 27:if(this.results_showing)return this.results_hide();break;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};b.prototype.keydown_checker=
function(a){var b,d;b=(d=a.which)!=null?d:a.keyCode;this.search_field_scale();b!==8&&this.pending_backstroke&&this.clear_backstroke();switch(b){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.mouse_on_container=!1;break;case 13:a.preventDefault();break;case 38:a.preventDefault();this.keyup_arrow();break;case 40:this.keydown_arrow()}};b.prototype.search_field_scale=function(){var a,b,d,f,g,s,l;if(this.is_multiple){g=0;d="position:absolute; left: -1000px; top: -1000px; display:none;";
f="font-size,font-style,font-weight,font-family,line-height,text-transform,letter-spacing".split(",");for(s=0,l=f.length;s<l;s++)a=f[s],d+=a+":"+this.search_field.css(a)+";";b=e("<div />",{style:d});b.text(this.search_field.val());e("body").append(b);g=b.width()+25;b.remove();g>this.f_width-10&&(g=this.f_width-10);this.search_field.css({width:g+"px"});a=this.container.height();return this.dropdown.css({top:a+"px"})}};b.prototype.generate_field_id=function(){var a;a=this.generate_random_id();this.form_field.id=
a;return a};b.prototype.generate_random_id=function(){var a;for(a="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();e("#"+a).length>0;)a+=this.generate_random_char();return a};b.prototype.generate_random_char=function(){var a;a=Math.floor(Math.random()*36);return"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ".substring(a,a+1)};return b}();f=function(a){return a.outerWidth()-a.width()};d.get_side_border_padding=f}).call(this);
(function(){var e;e=function(){function e(){this.options_index=0;this.parsed=[]}e.prototype.add_node=function(e){return e.nodeName==="OPTGROUP"?this.add_group(e):this.add_option(e)};e.prototype.add_group=function(e){var d,a,b,c,g,j;d=this.parsed.length;this.parsed.push({array_index:d,group:!0,label:e.label,children:0,disabled:e.disabled});g=e.childNodes;j=[];for(b=0,c=g.length;b<c;b++)a=g[b],j.push(this.add_option(a,d,e.disabled));return j};e.prototype.add_option=function(e,d,a){if(e.nodeName==="OPTION")return e.text!==
""?(d!=null&&(this.parsed[d].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:a===!0?a:e.disabled,group_array_index:d})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1};return e}();e.select_to_array=function(g){var f,d,a,b;d=new e;b=g.childNodes;for(g=0,a=b.length;g<a;g++)f=b[g],d.add_node(f);return d.parsed};this.SelectParser=
e}).call(this);
