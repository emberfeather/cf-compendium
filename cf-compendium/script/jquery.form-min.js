(function(a){function c(d,e){adjust=function(f,b){if(b!=undefined)return b==""?"":b+"-"+e};a("[id], [name], [for]",d).attr("id",adjust).attr("name",adjust).attr("for",adjust)}a(function(){a(".form .element .allowDuplication").after(a("<a />",{href:"#",click:function(){a(this).parent(".element").duplicateElement();return false},className:"duplicate"}).append(a("<img />",{src:"/cf-compendium/img/icon/famfamfam/silk/add.png",title:"Add multiple"})))});a.fn.duplicateElement=function(){return this.each(function(){original=
a(this);clone=a(this).clone(true).addClass("clone");original.data("cloneCount",(original.data("cloneCount")||0)+1);a(".allowDuplication",clone).removeClass("allowDuplication");a(".duplicate",clone).remove();a("input[type=text], input[type=password], input[type=file]",clone).val("");c(clone,"clone"+original.data("cloneCount"));a(this).after(clone);a("input",clone).focus()})}})(jQuery);
